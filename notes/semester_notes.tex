\documentclass[oneside, 12pt, ]{scrbook}

%packages to import
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{float}
\usepackage{minitoc}
\usepackage[width=15cm, height=24cm]{geometry}
\usepackage{hyperref}
\usepackage[usenames,svgnames,dvipsnames]{xcolor}
\usepackage{mathrsfs}
\usepackage{mathtools}
\usepackage{thmtools}
%\usepackage{kpfonts}
\usepackage[lf]{venturis} %% lf option gives lining figures as default; 
			  %% remove option to get oldstyle figures as default
\renewcommand*\familydefault{\sfdefault} %% Only if the base font of the document is to be sans serif
\usepackage{fontenc}
\usepackage{setspace}
\usepackage{cleveref}
\usepackage{backref}
\usepackage{graphicx}
\usepackage{tikz-cd}
\usepackage{quiver}
\usepackage{hyperref}
\usepackage{extpfeil}

%section symbol


%no indentation paragraph
\setlength{\parindent}{0pt}


% color those links
\hypersetup{
colorlinks=true,
urlcolor= BrickRed,
linkcolor= BrickRed,
citecolor= Cerulean
}
%colour page black and text white
%\pagecolor{gray}
%\color{white}

%\usepackage{multicol}
\usepackage[utf8]{inputenc}

%custom commands
\newtheorem{statement}{Statement}
\newcommand{\CC}{\mathbb C}
\newcommand{\FF}{\mathbb F}
\newcommand{\NN}{\mathbb N}
\newcommand{\QQ}{\mathbb Q}
\newcommand{\RR}{\mathbb R}
\newcommand{\ZZ}{\mathbb Z}
\newcommand{\p}{\mathfrak{p}}
\newcommand{\V}{\mathcal{V}}
\newcommand{\I}{\mathcal{I}}
\newcommand{\spec}{\mathrm{Spec}}
\newcommand{\Aa}{\mathbb{A}}
\newcommand{\PP}{\mathbb{P}}
\newcommand{\im}{\mathrm{im}}
\newcommand{\pr}{\mathfrak{p}}
\newcommand{\m}{\mathfrak{m}}
\newcommand{\nil}{\mathrm{Nil}}
\newcommand{\ord}{\mathrm{ord}}
\newcommand{\SL}{\mathrm{SL}}
\newcommand{\GL}{\mathrm{GL}}
\newcommand{\Hom}{\mathrm{Hom}}
\newcommand{\Char}{\mathrm{char}}
\newcommand{\Ext}{\mathrm{Ext}}
\newcommand{\Tor}{\mathrm{Tor}}
\newcommand{\iM}{\mathrm{Im}}
\newcommand{\coker}{\mathrm{Coker}}
\newcommand{\HH}{\mathbb{H}}
\newcommand{\bs}{\backslash}
\newcommand{\ds}{\displaystyle}
\newcommand{\Stab}{\mathrm{Stab}}
\newcommand{\id}{\mathrm{id}}
\newcommand{\Der}{\mathrm{Der}}

%theoremstyles 
\usepackage[framemethod=TikZ]{mdframed}

%theorem
\mdfdefinestyle{mdthmbox}{
	linewidth= 3pt,
	rightline=false,
	leftline=true,
	topline=false,
	bottomline=false,
	linecolor= WildStrawberry,
	backgroundcolor= CarnationPink!25 
}

\declaretheoremstyle[
	spaceabove=6pt, spacebelow=6pt,
	headfont=\normalfont \bfseries,
	notefont=\mdseries, notebraces={(}{)},
	bodyfont=\normalfont,
	postheadspace = \newline,
	mdframed = {style= mdthmbox}
]{theobox}

\declaretheorem[style=theobox,name=Theorem,numberwithin=section]{theorem}
\declaretheorem[style=theobox,name=Conjecture,numberwithin=section]{conjecture}

%lemma, proposition, corollary
\mdfdefinestyle{mdlembox}{
	linewidth= 3pt,
	rightline=false,
	leftline=true,
	topline=false,
	bottomline=false,
	linecolor= RoyalBlue,
	backgroundcolor= SkyBlue!30
}

\declaretheoremstyle[
	postheadspace= \newline,
	spaceabove=6pt, spacebelow=6pt,
	headfont=\normalfont \bfseries,
	notefont=\mdseries, notebraces={(}{)},
	bodyfont=\normalfont,
	postheadspace = \newline,
	mdframed = {style= mdlembox}
]{lembox}
\declaretheorem[style=lembox,name=Lemma,sibling=theorem]{lemma}
\declaretheorem[style=lembox,name=Proposition,sibling=theorem]{proposition}
\declaretheorem[style=lembox,name=Corollary,sibling=theorem]{corollary}

% definition
\mdfdefinestyle{mddefbox}{
	linewidth= 3pt,
	rightline=false,
	leftline=true,
	topline=false,
	bottomline=false,
	linecolor= LimeGreen,
	backgroundcolor= GreenYellow!25 
}

\declaretheoremstyle[
	postheadspace= \newline,
	spaceabove=6pt, spacebelow=6pt,
	headfont=\normalfont \bfseries,
	notefont=\mdseries, notebraces={(}{)},
	bodyfont=\normalfont,
	postheadspace = \newline,
	mdframed = {style= mddefbox}
]{defbox}


\declaretheorem[style=defbox, name= Definition, sibling=theorem]{definition}

\mdfdefinestyle{mdrembox}{
	linewidth= 2pt,
	rightline=false,
	leftline=true,
	topline=false,
	bottomline=false,
	linecolor= black,
}

\declaretheoremstyle[
	postheadspace= \newline,
	spaceabove=6pt, spacebelow=6pt,
	headfont=\normalfont \bfseries,
	notefont=\mdseries, notebraces={(}{)},
	bodyfont=\normalfont,
	postheadspace = \newline,
	mdframed = {style= mdrembox}
]{rembox}

\declaretheorem[name=Remark,sibling=theorem,style=rembox]{remark}
\declaretheorem[name=Note,sibling=theorem,style=rembox]{note}


% example
\mdfdefinestyle{mdredbox}{
	skipabove=8pt,
	linewidth=3pt,
	rightline=false,
	leftline=true,
	topline=false,
	bottomline=false,
	linecolor=red,
	backgroundcolor=Salmon!5
}

\declaretheoremstyle[
	postheadspace= \newline,
	spaceabove=6pt, spacebelow=6pt,
	headfont=\normalfont \bfseries,
	notefont=\mdseries, notebraces={(}{)},
	bodyfont=\normalfont,
	postheadspace = \newline,
	mdframed = {style= mdredbox}
]{thmredbox}

\mdfdefinestyle{mdgreybox}{
	skipabove=8pt,
	linewidth=3pt,
	rightline=false,
	leftline=true,
	topline=false,
	bottomline=false,
	linecolor=Goldenrod,
	backgroundcolor=Grey!5
}

\declaretheoremstyle[
	postheadspace= \newline,
	spaceabove=6pt, spacebelow=6pt,
	headfont=\normalfont \bfseries,
	notefont=\mdseries, notebraces={(}{)},
	bodyfont=\normalfont,
	postheadspace = \newline,
	mdframed = {style= mdredbox}
]{thmredbox}

\theoremstyle{theorem}
\declaretheorem[name= Exercise, style= thmgreybox, sibling = theorem]{exercise}
\declaretheorem[name= Example, style= thmredbox, sibling = theorem]{example}

%citations
%\usepackage[
%backend=biber,
%style=alphabetic,
%sorting=nyt
%]{biblatex}
%\addbibresource{citations.bib}

\begin{document}

%titlepage

\begin{center}
\begin{minipage}{0.75\linewidth}
    \centering
%University logo
    \includegraphics[width=1\linewidth]{IISc_logo.png}
    \rule{0.4\linewidth}{0.15\linewidth}\par
    \vspace{2cm}
%Thesis title
    {\uppercase{\Large Semester notes\par  }}
    \vspace{2cm}
%Author's name
    {\Large Irish Debbarma\par}
    \vspace{2cm}
%Degree
    {\Large Department of Mathematics \\ Indian Institute of Science, Bangalore\par}
    \vspace{1cm}
%Date
    {\Large December 2022}
\pagenumbering{gobble}   
\end{minipage}
\end{center}
\clearpage

\frontmatter
\tableofcontents

\mainmatter

\part{Modular Forms}

\chapter{Lecture-1 (3rd January): Introduction }

\chapter{Lecture-2 (5th January, 2023): }

\chapter{Lecture-3 (10th January, 2023): Valence formula and Eisenstein series}

\section{Valence formula}

Recall that $M_{k}(\Gamma_{1})$ is the space of modular forms of weight $k$ and level $1$. It is also a vector space over $\CC$. 

\begin{theorem}
$\dim M_{k}(\Gamma_{1}) = \begin{cases}[k/12]+1 & k\not \equiv \pmod{12} \\ [k/12] & k \equiv \pmod{12} \end{cases}$
\end{theorem}

\begin{proposition}
Let $f \in M_{k}(\Gamma_{1})$. Then, $$\sum_{p \in \Gamma_{1}\backslash \mathbb{H}}\frac{1}{n_{p}} \mathrm{ord}_{p}(f) + \mathrm{ord}_{\infty}(f) = \frac{k}{12}$$
\end{proposition}

\begin{proof}
Let $\epsilon >0$ be "small enough". Remove $\epsilon$-balls around $\infty , i , \omega , \omega + 1$ in $\mathcal{F}_{1}$. $\epsilon$ is small enough so that the removed balls are disjoint. Truncate $\mathcal{F}_{1}$ at the line $y = \epsilon^{-1}$ and call the enclosed region $D$. \\
By Cauchy's theorem $$\int_{\partial D} d(\log f(z)) = 0$$ This integral on the two vertical strips (just the straight lines not the semicircle part) is $0$ since the contribution of left is same as right but orientation is different. On the segment joining $-1/2 + iY , 1/2 + iY$, the integral is $2 \pi i \,\mathrm{ord}_{\infty}(f)$. Again,integral around each removed point in $\mathcal{F}_{1}$ is $\frac{1}{n_{p}} \mathrm{ord}_{p}(f)$. Next, divide the bottom arc into left and right parts and observe that $$d(\log f(S\cdot z)) = d(\log f(z)) + k \frac{dz}{z}$$ $$\int_{C} d(\log f(z)) = \frac{k \pi i }{6}$$ 
\end{proof}

\begin{corollary}
$\dim M_{k}(\Gamma_{1}) = \begin{cases} 0 & k < 0 \\ 0 & k \text{ is odd } \\ 1 & k=0 \\ \begin{cases}[k/12]+1 & k\not \equiv \pmod{12} \\ [k/12] & k \equiv \pmod{12} \end{cases} \end{cases}$
\end{corollary}

\begin{proof}
\begin{itemize}
\item If $k <0$, then $f$ has poles but is holomorphic.
\item  If $k=0$, then $f$ is the constant function. 
\item We have seen
\item For $m = [k/12] + 1$ let $f_{1}, \hdots , f_{m+1} \in M_{k}(\Gamma_{1})$. Let $P_{1}, \hdots , P_{m}$ be any points on $\mathcal{F}_{1}$ not equal to $i , \omega , \omega + 1$ and consider $(f_{i}(P_{j}))_{i \in [m+1], j \in [m]}$. \\
There exists a linear combination $f = \sum_{i=1}^{m+1} c_{i}f_{i}$ not all $c_{i}$ being zero, such that $f(P_{j})=0$ for $1 \le j \le m$. \\
From the previous theorem we get $f \equiv 0$ and this implies $\{f_{i}\}$ is linearly independent and thus $\dim_{\CC} M_{k}(\Gamma_{1}) \le m$. \\
For $k \equiv 2 \pmod{12}$, the relation in previous theorem holds only if there is atleast a simple zero at $p=i$ and atleast a double zero at $p = \omega$. This gives $$\frac{k}{12} - \frac{7}{6} = m-1$$ Repeat the argument above.  
\end{itemize}
\end{proof}

A slight notation. For $\gamma  = \begin{pmatrix}
a & b \\ c & d
\end{pmatrix} \in \mathrm{SL}_{2} (\ZZ)$ we set $f|_{\gamma} (z) = (cz+d)^{-k}f(\gamma \cdot z)$. \\
Thus, $1|_{\gamma}(z) = (cz+d)^{-k}$. If $1|_{\gamma}(z) =1 \Rightarrow c =0$. Conversely, if $c=0$, then $d^{-k}=1$. So, $1|_{\gamma}(z)=1 \Leftrightarrow c=0$. \\
$\Gamma_{\infty} = \left\{ \begin{pmatrix}
a & b \\ 0 & d 
\end{pmatrix} \in \mathrm{SL}_{2}(\ZZ) \right\} = \mathrm{stab}(\infty)$

\section{Eisenstein series}

\begin{definition}
The Eisenstein series $E_{k}(z)$ is defined to be $$E_{k}(z) = \sum_{\gamma \in \Gamma_{\infty} \backslash \Gamma_{1}} 1|_{\gamma}(z)$$
\end{definition}

\begin{proposition}
$$E_{k}(z) = \frac{1}{2} \sum_{(c,d) \in \ZZ^{2} \backslash \{(0,0)\}, \gcd(c,d)=1} \frac{1}{(cz+d)^k}$$
\end{proposition}

\begin{proof}

\end{proof}

\begin{proposition}
$$\sum_{(c,d) \in \ZZ^{2} \backslash \{(0,0)\}, \gcd(c,d)=1} \frac{1}{(cz+d)^k}$$ converges absolutely for $k>2$
\end{proposition}

\begin{proof}

\end{proof}

\begin{theorem}
$E_{k}(z) \in M_{k}(\Gamma_{1})$ for $k >2$.
\end{theorem}

\begin{proof}

\end{proof}

\begin{proposition}
$E_{k}(z) \not \equiv 0$ for $k>2$, even.
\end{proposition}

\begin{proof}
Observe that $$\frac{1}{(cz+d)^k} \rightarrow 0 , \mathfrak{I}(z) \rightarrow \infty , c\neq 0$$ and if $c = 0$, then $c=\pm 1$. Hence, $E_{k}(z) = 1 +$ bounded term as $\mathfrak{I}(z) \rightarrow \infty$. This implies $E_{k}(z) \not \equiv 0$ and $$E_{k}(z) = 1 + \sum_{n=1}^{\infty} a_{n}e^{2 \pi i z}$$
\end{proof}

Another way of looking at Eisenstein series is a function on a lattice. \\
Consider $G_{k}(z) = G_{k}(\ZZ z + \ZZ) = \frac{1}{2} \sum_{(c,d) \in \ZZ^2}^{'} \frac{1}{(cz+d)^k}$

\begin{proposition}
$G_{k}(z)$ converges absolutely for $k>2$.
\end{proposition} 

\begin{proposition}
$G_{k}(z) = \zeta(k) E_{k}(z)$
\end{proposition}

\begin{proposition}
$\mathbb{G}_{k}(z) = \frac{(k-1)!}{(2 \pi i)^k} G_{k}(z) = -\frac{B_{k}}{2k} + \sum_{n=1}^{\infty} \sigma_{k-1}(n)q^n$ for $k>2$, even.
\end{proposition}

\chapter{Lecture-4 (12th January, 2023): Eisenstein series}

\section{Eisenstein series contd..}

Recall that $$M_{*}(\Gamma_{1}) = \bigoplus_{k \in \ZZ}M_{k}(\Gamma_{1})$$  is a graded ring.

\begin{proposition}
The graded ring $M_{*}(\Gamma_{1})$ is freely generated by $E_{4},E_{6}$. This means that the map 
\begin{align*}
f: C[X,Y] &\rightarrow M_{*}(\Gamma_{1})\\
X &\mapsto E_{4} \\
Y &\mapsto E_{6}
\end{align*}
is an isomorphism of graded rings. Here, $\deg X = 4, \deg Y=6$. 
\end{proposition}

\begin{proof}
We want to show that $E_{4}$ and $E_{6}$ are algebraically independent. We start by showing that $E_{4}^3$ and $E_{6}^2$ are linearly independent over $\CC$. Suppose $E_{6}(z)^2 = \lambda E_{4}(z)^{3}$. Consider $f(z) = E_{6}(z)/ E_{4}(z)$. Now observe that $f(z)^2 = \lambda E_{4}(z)$. This means that $f^2$ is holomorphic and thus $f$ is also holomorphic. But $f$ is weakly modular of weight $2$ which is a contradiction. So, our claim is proven. \\

\textbf{Claim}: Let $f_{1},f_{2}$ be two nonzero modular forms of same weight. If $f_{1},f_{2}$ are linearly independent, then they are algebraically independent as well. \\

Let $P(t_{1},t_{2}) \in \CC[t_{1},t_{2}] \backslash \{0\}$ be such that $P(f_{1},f_{2})=0$. Let $P_{d}(t_{1},t_{2})$ be the $d$ degree parts of $P$. Using the fact that modular forms of different weights are linearly independent, we get that $P_{d}(f_{1},f_{2})=0 \; \forall \; d \geq 0$. If $p_{d}(t_{1}/t_{2}) = P_{d}(t_{1},t_{2})/t_{2}^d$, then $p_{d}(f_{1}/f_{2})=0$. But this means that $f_{1}/f_{2}$ is a constant. But, $f_{1},f_{2}$ are linearly independent which implies that they are algebraically independent as well. \\

All of this implies that $E_{4},E_{6}$ are algebraically independent. Using
\end{proof}

\begin{corollary}
$\dim_{\CC} M_{k} (\Gamma_{1}) = \begin{cases}[k/12]+1 & k\not \equiv \pmod{12} \\ [k/12] & k \equiv \pmod{12} \end{cases} $
\end{corollary}

\subsection{Fourier expansions of $E_{k}(z)$}

\begin{proposition}
$$\mathbb{G}_{k}(z) = \frac{(k-1)!}{(2 \pi i)^k} G_{k}(z) = -\frac{B_{k}}{2k} + \sum_{n=1}^{\infty} \sigma_{k-1}(n)q^n$$ for $k>2$, even and $B_{k}$ are Bernoulli numbers.
\end{proposition}

\begin{proof}
Use $$\frac{\pi}{\tan \pi z} = \sum_{n \in \ZZ} \frac{1}{z+n} = \lim_{M,N \rightarrow \infty , N-M < \infty} \sum_{-M}^{N} \frac{1}{z+n}$$ and 
$$\frac{\pi}{\tan \pi z} = \frac{\pi \cos \pi z}{\sin \pi z} = \pi i \frac{e^{\pi i z} + e^{-\pi i z}}{e^{\pi i z} - e^{-\pi i z}} = - \pi i \frac{1+q}{1-q} = - 2 \pi i \left( \frac{1}{2} + \sum_{r=1}^{\infty} q^r \right)$$ This leads to the equality 
$$\sum_{n\in \ZZ}\frac{1}{z+n} = -  2 \pi i \left( \frac{1}{2} + \sum_{r=1}^{\infty} q^r \right)$$
Differentiate both sides of equality $k-1$ times and divide by $(k-1)!$ to get $$\sum_{n \in \ZZ}\frac{1}{(z+n)^k} = \frac{(-2 \pi i)^k}{(k-1)!} \sum_{r=1}^{\infty} r^{k-1}q^r$$
Next, if we look at 
\begin{align*}
G_{k}(z) &= \frac{1}{2} \sum' \frac{1}{(mz+n)^k} \\
&= \frac{1}{2} \sum_{n \in \ZZ , n \neq 0} \frac{1}{n^k} + \frac{1}{2} \sum_{(m,n) \in \ZZ^2 , m \neq 0} \frac{1}{(mz + n)^k} \\
&= \zeta(k) + \sum_{m=1}^{\infty} \sum_{n=-\infty}^{\infty} \frac{1}{(mz+n)^k} \\
&= \zeta(k) + \frac{(2 \pi i)^k}{(k-1)!} \sum_{m=1}^{\infty} \sum_{r=1}^{\infty} r^{k-1} q^{mr} \\
&= \zeta(k) + \frac{(2 \pi i)^k}{(k-1)!} \sum_{m=1}^{\infty} \sum_{r=1}^{\infty} \sigma_{k-1}(n) q^{n}
\end{align*}
The expression of $\mathbb{G}_{k}(z)$ is trivial after noting $$\frac{(k-1)!}{(2 \pi i)^k} \zeta(k) = B_{k}$$
\end{proof} 

\begin{remark}
\begin{enumerate}
\item $\mathbb{G}_{4}(z) = \frac{1}{240} + q + 9q^2 + 28q^3 + 73q^4 + \cdots $
\item $\mathbb{G}_{6}(z) = -\frac{1}{504} + q + 33q^2 + 244q^3 + \cdots $
\item $\mathbb{G}_{8}(z) = \frac{1}{480} + q + 129q^2 + 2188q^3 + \cdots $
\end{enumerate}
\end{remark}

\begin{proposition}
$$\sum_{m=1}^{n-1} \sigma_{3}(m) \sigma_{3}(n-m) = \frac{\sigma_{7}(n) - \sigma_{3}(n)}{120}$$
\end{proposition}

\begin{proof}

\end{proof}

\subsection{Weight $2$ Eisenstein series}

\begin{definition}
\begin{align*}
\mathbb{G}_{2}(z) &= -\frac{1}{24} + \sum_{n=1}^{\infty} \sigma_{1}(n)q^n \\
&= -\frac{1}{24} + q + 3q^2 + 4q^3 + 7q^4 + \cdots 
\end{align*} 
\end{definition}

This converges rapidly on $\mathbb{H}$ and defines a holomorphic function. 

\begin{proposition}
$$G_{2}(z) = - 4 \pi^2 \mathbb{G}_{2}(z)$$
\end{proposition}

\begin{proof}
Since we know that $$G_{2}(z) = \sum_{(m,n) \in \ZZ^2 \backslash \{(0,0)\}}\frac{1}{(mz+n)^2}$$ does not converge absolutely, we define $$G_{2}(z) = \frac{1}{2} \sum_{n \in \ZZ , n \neq 0} \frac{1}{n^2} + \frac{1}{2} \sum_{m \neq 0} \sum_{n \in \ZZ} \frac{1}{(mz+n)^2}$$
This sum converges absolutely and we can show that this satisfies the functional equation as required.
\end{proof}

\begin{proposition}
For $\gamma = \begin{pmatrix}
a & b \\ c & d 
\end{pmatrix} \in \mathrm{SL}_{2}(\ZZ)$ we have $$G_{2}\left( \frac{az+b}{cz+d} \right) = (cz+d)^2 G_{2}(z) - \pi i c(cz+d)$$
\end{proposition}

$G_{2}$ is called a quasi modular form. \\

Introduce (due to Hecke): $$G_{2,s}(z) = \frac{1}{2} \sum_{(m,n)\in \ZZ^2 \backslash \{(0,0)\}} \frac{1}{(mz+n)^2 |mz+n|^{2s}} , \mathfrak{R}(s) >0$$

\section{Modular forms of higher level}

Let $N \in \ZZ_{\geq 1}$ 

$$\mathrm{SL}_{2}(\ZZ / N \ZZ) =\left\{ \begin{pmatrix}
a & b \\ c & d
\end{pmatrix} \in M_{2}(\ZZ / N \ZZ) \mid ad-bc \equiv 1 \pmod{N} \right\}$$

\begin{lemma}
The map 
\begin{align*}
\mathrm{SL}_{2}(\ZZ) &\rightarrow \mathrm{SL}_{2}(\ZZ / N \ZZ) \\
\begin{pmatrix}
a & b \\ c & d
\end{pmatrix}  &\mapsto \begin{pmatrix}
\bar{a} & \bar{b} \\ \bar{c} & \bar{d}
\end{pmatrix}
\end{align*}
is a surjective group homomorphism.
\end{lemma}

\begin{proof}

\end{proof}

\begin{definition}
$$\Gamma (N) = \ker (\mathrm{SL}_{2}(\ZZ) \rightarrow \mathrm{SL}_{2}(\ZZ / N \ZZ))$$ is called the principal congruence subgroup.
\end{definition}

\begin{definition}
A subgroup $\Gamma$ of $\mathrm{SL}_{2}(\ZZ)$ is called a congruence subgroup if there exists $N$ such that $\Gamma (N) \subseteq \Gamma$.
\end{definition}

$$\Gamma_{0}(N) =\left\{ \begin{pmatrix}
a & b \\ c & d
\end{pmatrix} \in M_{2}(\ZZ / N \ZZ) \mid c\equiv 0 \pmod{N} \right\}$$
$$\Gamma_{1}(N) =\left\{ \begin{pmatrix}
a & b \\ c & d
\end{pmatrix} \in M_{2}(\ZZ / N \ZZ) \mid c\equiv d \equiv 1 \pmod{N} \right\}$$

\chapter{Lecture-5 (17th January, 2023): Congruence subgroups and $\Delta$ function}

\section{$\Delta$ function}

Consider $$\Delta (z) = \frac{1}{1729} (E_{4}^3(z) - E_{6}^2(z)) = q + q^2() + \cdots $$
Clearly, $\Delta(z)$ is a normalised cusp form of weight $12$ and level $1$. 

\begin{theorem}
$$\Delta (z) = q \prod_{n \geq 1} (1-q^{n})^{24}, q=e^{2\pi i z}$$
\end{theorem}

\begin{proposition}
$\Delta(z)$ has no zero in $\mathbb{H}$.
\end{proposition}

\begin{proof}
From the valence formula we have $$\sum_{p \in \mathbb{H}} \frac{1}{n_{p}} \ord_{p}(\Delta(z)) + \ord_{\infty} (\Delta(z)) = k/12 =1$$ Moreover, $\ord_{\infty} (\Delta(z))=1$. Hence, we can conclude that $\ord_{p}(\Delta(z)) =0 \; \forall \; p \in \mathbb{H}$.
\end{proof}

\textbf{Application}: We use $\Delta(z)$ to write any modular form as a polynomial in $E_{4},E_{6}$. \\

Take $f(z) \in M_{k} (\Gamma_{1})$ with $4a+6b , k \geq 4, a,b\geq 0$. The Fourier expansion of $f(z)$ can we written as $$f(z) = a_{0} + a_{1}q + \cdots $$
Clearly, $f(z) - a_{0}E_{4}^a(z)E_{6}^b(z) \in M_{k}(\Gamma_{1}) \subseteq S_{k}(\Gamma_{1})$.

Next, $$h(z) = \frac{f(z)-a_{0}E_{4}^a(z)E_{6}^b(z)}{\Delta(z)} \in M_{k-12}(\Gamma_{1})$$ Recursively, we can now find expression for $f(z)$. 

\begin{proposition}
$$j(z) = \frac{E_{4}^3}{\Delta(z)} = q^{-1} + \cdots $$
\begin{align*}
j: \bar{\mathbb{H}}/\Gamma_{1} &\rightarrow \PP^1(\CC) \\
z &\mapsto j(z)
\end{align*}

is a bijection.
\end{proposition}

\begin{proof}
$E_{4}^3(z)$ and $\Delta(z)$ are linearly independent. For any $\lambda_{1},\lambda_{2} \in \CC$ both not zero, $\lambda_{1}E_{4}^3(z) + \lambda_{2}\Delta(z)$ has an unique zero in $\bar{\mathbb{H}}/\Gamma_{1}$. 
\end{proof}

\begin{remark}
This $j$ is called the $j$-invariant modular function. It attaches an elliptic curve in $\PP^1 (\CC)$ to any lattice in $\Lambda_{z} = \ZZ z + \ZZ$ and vice versa.
\end{remark}

Next, the Fourier series of $\Delta(z)$ is of the form $\Delta(z) = \sum_{n \geq 1} \tau(n)q^n$ where $\tau(n)$ satisfies the following properties: 
\begin{enumerate}
\item $\tau(pq) =\tau(p)\tau(q)$ if $p,q$ are dinstinct primes. 
\item $\tau(p^2) = \tau(p)^2 - p^{12-1}$.
\item $|\tau(p)| \le 2 p^{\frac{12-1}{2}}$.
\item 
\begin{align*}
\mathbb{G}_{12}(z) &= \Delta(z) + \frac{691}{156} \left( \frac{E_{4}^3(z)}{720} + \frac{E_{6}^2}{1008} \right) \\
\mathbb{G}_{12} &= -\frac{B_{12}}{24} + \sum_{n \geq 1} \sigma_{11}(n) q^n \\
&= \frac{691}{65520} + \sum_{n \geq 1} \sigma_{11}(n) q^n \\ 
\mathbb{G}_{12}(z) &\equiv \Delta(z) \pmod{691}
\end{align*}
To conclude $$\tau(n) = \sigma_{11}(n) \pmod{691}$$
(Related to the fact that $691 \mid \# \mathcal{Cl}(\QQ(\gamma_{691}))$)
\end{enumerate}

\section{Congruence subgroup}

\begin{proposition}
Let $N=p_{1}^{a_{1}}\cdots p_{r}^{a_{r}}$ be the prime factorisation. Then, $$\mathrm{SL}_{2} (\ZZ / N \ZZ) = \prod_{i=1}^{r} \mathrm{SL}_{2}(\ZZ / p^{a_{i}} \ZZ) $$ 
\end{proposition}

\begin{lemma}
$$\# \mathrm{SL}_{2}(\ZZ / N \ZZ) = N^3 \prod_{p \mid N} \left( 1 - \frac{1}{p^2} \right)$$
\end{lemma}

\begin{definition}
A subgroup $\Gamma \subseteq \mathrm{SL}_{2}(\ZZ)$ is called congruence subgroups if $\Gamma(N) \subseteq \Gamma$ for some $N \geq 1$.
\end{definition}

\begin{lemma}
A congruence subgroup has finite index in $\mathrm{SL}_{2}(\ZZ)$.
\end{lemma}

\begin{remark}
There are non-congruence subgroups of finite index in $\mathrm{SL}_{2}(\ZZ)$.
\end{remark}

\textbf{Properties}:
\begin{enumerate}
\item $\mathrm{PSL}_{2}(\ZZ)$ is generated freely by an element of order $2$ and an element of order $3$.
\item $S_{7}$ is generated by an element of order $2$ and an element of order $3$. There is a surjection 
\begin{align*}
\mathrm{PSL}_{2}(\ZZ) &\xrightarrow{\pi} S_{7} \\
\pi^{-1}(\mathrm{Stab}_{1}) \subseteq \mathrm{PSL}_{2}(\ZZ) \\
\end{align*}
\item $\SL_{2}(\ZZ/p\ZZ)$ is a simple group for $p \geq 5$.
\end{enumerate}

\begin{remark}
$\Gamma$ is the smallest index subgroup that is non-congruence.
\end{remark}

\begin{definition}
A holomorphic function $f: \mathbb{H} \rightarrow \CC$ is a modular form of weight $k$ and level $\Gamma$ if 
\begin{enumerate}
\item $f\left(\frac{az+b}{cz+d}\right) = (cz+d)^k f(z)$ for all $\begin{pmatrix}
a & b \\ c & d
\end{pmatrix} \in \Gamma$
\item $f$ is holomorphic at all cusps.
\end{enumerate}
Cusps of $X(\Gamma)$ are just elements of $\Gamma \backslash \PP^1 (\QQ)$.
\end{definition}

\begin{proposition}
$$\mathrm{orbit}(\infty) = \{ \frac{a}{c}: p\mid c , p \nmid a\}, \mathrm{orbit}(1) = \{ \frac{a}{c}:p \nmid c\}$$
\end{proposition}

\chapter{Lecture-6 (19th January, 2023): Congruence subgroups and enhanced elliptic curves}

\section{Congruence subgroups and modular forms of higher levels}

Suppose $p$ is a prime. 
\begin{proposition}
$$\# \left( \Gamma_{0}(p)\backslash^{\PP^1(\QQ)} \right)=2$$
\end{proposition}

\begin{proof}

\end{proof}

\begin{proposition}
Let $\Gamma$ be a congruence subgroup, then $\Gamma\backslash^{\PP^1 (\QQ)}$ is finite. (called the cusps of level $\Gamma$). 
\end{proposition}

\begin{proof}

\end{proof}

\begin{exercise}
$$\SL_{2}(\ZZ) = \bigsqcup_{j=0}^{p-1} \alpha_{j} \Gamma_{0}(p) \bigsqcup \alpha_{\infty} \Gamma_{0}(p)$$ where $\alpha_{j} = \begin{pmatrix}
1 & 0 \\ j & 1
\end{pmatrix}\; 0 
le j \le p-1 ,  \alpha_{\infty} = \begin{pmatrix}
1 & -1 \\ 0 & 1
\end{pmatrix}$
\end{exercise}

\textbf{Notation:}Let $f: \mathbb{H} \rightarrow \CC$ be a function. Let $k \in \ZZ$ and $\gamma \in SL_{2}(\RR)$. We define 
\begin{align*}
f|_{[\gamma]_{k}} : \mathbb{H} &\rightarrow \CC \\
\text{ defined by } f|_{[\gamma]_{k}}(z) &= (cz+d)^{-k} f(\gamma \cdot z)
\end{align*}

With this notation: $f \in M_{k}(\SL_{2}(\ZZ))$ if 
\begin{itemize}
\item $f$ is holomorphic on $\mathbb{H}$ and at $\infty$.
\item $f|_{[\gamma]_{k}}(z) = f(z) \; \forall \; \gamma \in \SL_{2}(\ZZ)$. 
\end{itemize}

\begin{definition}
Let $\Gamma$ be a congruence subgroup and $k \in \ZZ$. A modular form of weight $k$ and level $\Gamma$ is a function $f: \mathbb{H} \rightarrow \CC$ such that 
\begin{enumerate}
\item $f$ is holomorphic on $\mathbb{H}$.
\item $f|_{[\gamma]_{k}} = f \; \forall \; \gamma \in \Gamma$.
\item $f$ is holomorphic at all cusps. \\
Note that $\begin{pmatrix}
1 & h \\ 0 & 1
\end{pmatrix} \in \Gamma$ for some $h \in \ZZ_{>0}$, and if $\Gamma(N) \subseteq \Gamma$ then $h \mid N$. Thus, $$f(z+h) = f(z)$$ and $f $ admits the Fourier expansion $$f(z) = \sum_{n \in \ZZ} a_{n} \exp(2 \pi i n z/h)$$
$f$ is said to be holomorphic at $\infty$ if $a_{n} =0 \; \forall \; n \le -1$. Suppose $\alpha \in \PP^1(\QQ)$ is a cusp, then there exists $\gamma \in \SL_{2}(\ZZ)$ such that $\gamma \cdot \alpha = \infty$. $f$ is holomorphic at $\alpha$ if $f|_{[\gamma]_{k}}$ is holomorphic at $\infty$.
\item $f|_{[\gamma]_{k}}$ is holomorphic at $\infty \; \forall \; \gamma \in \SL_{2}(\ZZ)$ 
\end{enumerate}
\end{definition}

\begin{example}
$\Gamma_{1}(p)$ has cusps $0, \infty$. We just need to check 
\begin{itemize}
\item $f$ is holomorphic at $\infty$.
\item $f|_{[\gamma]_{k}}$ is holomorphic at $\infty$.
\end{itemize}
\end{example}

\textbf{Notation}: 
\begin{align*}
M_{k}(\Gamma) &= \text{ the space of modular forms of weight $k$ and level $\Gamma$} 
\end{align*}

\begin{definition}
$f \in M_{k}(\Gamma)$ is said to be a cusp form if $f$ vanishes at all cusps of level $\Gamma$, i.e., $f|_{[\gamma]_{k}}$ vanishes at $\infty \; \forall \; \gamma \in \SL_{2}(\ZZ)$. \\

By $S_{k}(\Gamma)$ we denote the space of all cusp forms of weight $k$ and level $\Gamma$.
\end{definition}

$M(\Gamma) = \oplus_{k \in \ZZ} M_{k}(\Gamma)$ is the graded ring of modular forms of level $\Gamma$. \\

If $\Gamma_{1} \subseteq \Gamma_{2}$ are two congruence subgroups, then $M_{k}(\Gamma_{2}) \subseteq M_{k}(\Gamma_{1})$. This implies $M_{k}(\SL_{2}(\ZZ)) \subseteq M_{k}(\Gamma)$ for any $\Gamma$.\\

Now, let $\Gamma$ be a congruence subgroup. Define: 
\begin{align*}
Y(\Gamma) &= \Gamma \backslash \mathbb{H} \\
X(\Gamma) &= \Gamma \backslash (\mathbb{H} \cup \PP^1 (\QQ))
\end{align*}
These are called modular curves. \\

We saw that $\SL_{2}(\ZZ) \backslash \HH$ parametrises elliptic curves over $\CC$ (upto isomorphism).



\section{Enhanced elliptic curves}
Let $N \in \ZZ_{\geq 1}$
\begin{definition}
\begin{enumerate}
\item An enhanced elliptic curve of level $\Gamma_{0}(N)$ is a pair $(E,C)$ where $E$ is an elliptic curve and $C$ is an order $N$ cyclic subgroup of $E(\CC)$. \\
Morphism between $(E,C)$ and $(E',C')$ is a homomorphism $$\varphi : E \rightarrow E'$$ such that $\varphi (C) = C'$
\item An enhanced elliptic curve of level $\Gamma_{1}(N)$ is a pair $(E,Q)$ such that  $E$ is an elliptic curve and $Q$ is an order $N$ point on $E(\CC)$. \\
Morphism between $(E,Q)$ and $(E',Q')$ is a homomorphism $$\varphi : E \rightarrow E'$$ such that $\varphi (Q) = Q'$
\item An enhanced elliptic curve of level $\Gamma(N)$ is a triplet $(E,Q_{1},Q_{2})$ such that $E$ is an elliptic curve and $Q_{1},Q_{2}$ are points of order $N$ and $$\langle Q_{1} , Q_{2} \rangle = E(\CC)[N] = \{ x \in E(\CC) \mid Nx =0\}$$
\end{enumerate}
\end{definition}

\begin{proposition}
\begin{enumerate}
\item $Y(\Gamma_{0}(N))$ parametrizes enhanced elliptic curves of level $\Gamma_{0}(N)$. The map $z\in \HH \mapsto \left( \CC/\Lambda_{z} , \left( 1 + \Lambda_{z} \right)/\Lambda_{z}\right)$ gives a bijection between 
$$Y (\Gamma_{0}(N)) \leftrightarrow \{\text{ isomorphism classes of enhanced elliptic curves of level } \Gamma_{0}(N)\}$$
\item $Y(\Gamma_{1}(N))$ parametrizes enhanced elliptic curves of level $\Gamma_{0}(N)$. The map $z\in \HH \mapsto \left( \CC/\Lambda_{z} , \frac{1}{N} \right)$ gives a bijection between 
$$ (\Gamma_{1}(N)) \leftrightarrow \{\text{ isomorphism classes of enhanced elliptic curves of level } \Gamma_{1}(N)\}$$
\item $Y(\Gamma(N))$ parametrizes enhanced elliptic curves of level $\Gamma_{0}(N)$. The map $z\in \HH \mapsto \left( \CC/\Lambda_{z} , \frac{1}{N} , \frac{1}{N} \cdot z \right)$ gives a bijection between 
$$Y (\Gamma(N)) \leftrightarrow \{\text{ isomorphism classes of enhanced elliptic curves of level } \Gamma(N)\}$$
\end{enumerate}
\end{proposition}

\begin{proof}

\end{proof}

\begin{proposition}
The action of $\SL_{2}(\ZZ)$ on $\HH$ is properly discontinuous, i.e., for $z_{1},z_{2} \in \HH$ there exists neighbourhoods $U_{i}$ of $z_{i}$ such that if $\gamma \in U_{1}\cap U_{2} \neq 0$, then $\gamma \cdot z_{1} = z_{2}$.
\end{proposition}

\begin{proof}

\end{proof}

\chapter{Lecture-7 (24th January, 2023): Riemann surfaces}

\begin{corollary}
$Y(\Gamma) = \Gamma \bs \HH$ with the quotient topology is Hausdorff.
\end{corollary}

\begin{proof}

\end{proof}

\begin{proposition}
$X(\Gamma)$ is compact.
\end{proposition}

\begin{proof}

\end{proof}

\section{Riemann surfaces}

\begin{definition}
A Riemann surface consists of the following data: 
\begin{enumerate}
\item $X$ is a topological space (Hausdorff + second countable).
\item $(U_{i},V_{i}, \phi_{i})$ with $V_{i}$ open in $X$, $U_{i}$ open ball in $\CC$ and $\phi: U_{i} \rightarrow V_{i}$ a homeomorphisms such that whenever $V_{i} \cap V_{j} \neq \emptyset$ we have $$\phi_{j}^{-1} \circ \phi_{i} : U_{i} \cap \phi_{i}^{-1}(V_{i} \cap V_{j}) \rightarrow U_{j} \cap \phi_{j}^{-1} (V_{i} \cap V_{j})$$ to be homeomorphisms. 
\end{enumerate}
\end{definition}

\textbf{\textcolor{BrickRed}{GOAL}:} To make $X(\Gamma)$ a Riemann surface. That is we want to construct charts on $X(\Gamma)$.

\begin{definition}
A point $P \in Y(\Gamma)$ is called an elliptic point if for any lift $z$ of $P$ in $\HH$, we have $\Stab_{\Gamma}(z) / \left(  \Stab_{\Gamma}(z) \cap \{\pm I_{2}\} \right)$ is nontrivial. That is to say $\Stab_{\bar{\Gamma}}(z)$ is nontrivial, where $\bar{\Gamma}$ is the image of $\Gamma$ in $\mathrm{PSL}_{2}(\ZZ)$.
\end{definition}

$P$ is an elliptic point in $Y(\Gamma)$ only if it lifts to a point equivalent to $i = \exp(2 \pi i /4)$ or $\omega  = 2 \pi  i /6$. If $P$ is an elliptic point, then $\Stab_{\bar{\Gamma}}(z)$ has order $2$ or $3$. 

\subsection{Local charts on $Y(\Gamma)$}

\begin{enumerate}
\item $P \in Y(\Gamma)$ is not an elliptic point. \\

Let $z\in \HH$ be a lift of $P$ and $U_{1},U_{2}$ be neighbourhoods of $z$. Put $U=U_{1} \cup U_{2}$. If $\gamma U \cap U \neq \emptyset$, then the image set of $Y$ in $\bar{\Gamma}$ is identity. 
$$\pi : \HH \rightarrow Y(\Gamma)$$
Put $\gamma   = \pi (U)$. Then, $\pi|_{U} : U \rightarrow V$ is a homeomorphism. 

\item Let $P \in Y(\Gamma)$ be an elliptic point. Let $z\in \HH$ such that $\pi(z) = P$. Same as previous case get $U_{1},U_{2}$ and define $U$ as the the union of the two. \\
Now, if $\gamma U \cap U \neq \emptyset$ then $\gamma \in \Stab_{\bar{\Gamma}}(z)$. \\
Set $V= \pi (U)$. Notice that here $\pi|_{U}: U \rightarrow V$ need not be a homeomorphism. We instead have 
\[\begin{tikzcd}
	U & {U'=U/\mathrm{Stab}_{\bar{\Gamma}}(z)} \\
	V
	\arrow["{\pi|_{U} }"', from=1-1, to=2-1]
	\arrow[from=1-1, to=1-2]
	\arrow["\simeq", from=1-2, to=2-1]
\end{tikzcd}\]

\item We next want to extend this to cusps of $X(\Gamma)$. \\
For $\SL_{2}(\ZZ)$ we have already seen a local chart $z\mapsto \exp(2 \pi i z)$. In general, take any cusp $P$ of $X(\Gamma)$. Take $\gamma \in \SL_{2}(\ZZ)$ such that $\gamma P = \infty$. Use the local charts at $\infty$.
\end{enumerate}
Hence, $X(\Gamma)$ is a compact Riemann surface. \\

Next, we wish to compute genus of $X(\Gamma)$. \\
Genus $\mathfrak{g}$ of $X(\Gamma)$ is an integer such that 
\begin{align*}
H^1(X(\Gamma), \ZZ) &\cong \ZZ^{2g} \\
H_{1}(X(\Gamma), \ZZ) &\cong \ZZ^{2g}
\end{align*}


\chapter{Lecture-8 (2nd February, 2023): }


\chapter{Lecture-9 (7th February, 2023): }

\begin{corollary}
Let $\Gamma$ be a congruence subgroup of $\SL_{2}(\ZZ)$. Then, $$g(X(\Gamma)) = 1 + \frac{N}{12} - \frac{\epsilon_{2}}{4} - \frac{\epsilon_{3}}{4} - \frac{\epsilon_{\infty}}{2}$$ where $N = [\mathrm{PSL}_{2}(\ZZ): \bar{\Gamma}]$, $\epsilon_{2}$ is the number of elliptic points of order $2$, $\epsilon_{3}$ is the number of elliptic points of order $3$ and $\epsilon_{\infty}$ is the number of cusps of $\Gamma = \#(\Gamma \bs \PP^{1}(\QQ))$.
\end{corollary}

\begin{proof}
Consider the map $$X(\Gamma) \xlongrightarrow{f} X(\SL_{2}(\ZZ))$$ with $\deg f = n$. Then, $$2g(X(\Gamma)) -2 = N(-2) + \sum_{Q \in X(\Gamma)} (e_{Q}-1)$$
If $f(Q)$ is not equivalent to $i$ or $\omega$, $Q$ is unramified. \\

If $f(Q)$ is equivalent to $i$, then we have two cases: 
\begin{enumerate}
\item $Q$ is elliptic implies $Q$ is unramified.
\item $Q$ is not elliptic implies $e_{Q}=2$.
\end{enumerate}
$$\sum_{Q \in f^{-1}([i])} e_{Q}=N , \sum_{Q \in f^{-1}([i])} (e_{Q}-1) = \frac{N-\epsilon_{2}}{2}$$

If $f(Q) \sim \omega$, then $$\sum_{Q \in f^{-1}([i])} (e_{Q}-1) = \frac{2(N-\epsilon_{3})}{3}$$

Finally, let us talk about ramification at the cusps. Recall from the charts at cusps that Local coordinate at a cusp $Q$ is $e^{2\pi i /h}$ for some integer $h \geq 1$. In this case $e_{Q}=h$ and $$\sum_{Q \in f^{-1}([i])} (e_{Q}-1) = \left(\sum_{Q}e_{Q}\right) - \epsilon_{\infty} = N - \epsilon_{\infty}$$
Therefore, 
\begin{align*}
2g(X(\Gamma)) &= -2N + \frac{N - \epsilon_{2}}{2} + 2\frac{N-\epsilon_{3}}{3} + N -\epsilon_{\infty} \\
2g(X(\Gamma)) &= \frac{N}{12} - \frac{\epsilon_{2}}{4} - \frac{\epsilon_{3}}{6} - \frac{\epsilon_{\infty}}{2} + 1
\end{align*}
\end{proof}

\begin{exercise}
$g(X(\Gamma_{0}(p)))=0$ iff $p \in \{2,3,5,6,7,13\}$
\end{exercise}

\textcolor{Blue}{Goal of the day} $$\dim_{\CC} M_{k}(\Gamma) = (k-1)(g(X(\Gamma))-1) + \frac{k}{2} \epsilon_{\infty} + \left[\frac{k}{4} \right]\epsilon_{2} + \left[ \frac{k}{3} \right]\epsilon_{3}$$ and $$\dim_{\CC} S_{k}(\Gamma) = (k-1)(g(X(\Gamma))-1) - \frac{k}{2} \epsilon_{\infty} + \left[\frac{k}{4} \right]\epsilon_{2} + \left[ \frac{k}{3} \right]\epsilon_{3}$$

To proceed we will need some algebraic geometry language. 
\begin{align*}
X &- \text{ is a smooth projective curve over } \CC \\
\mathcal{O}_{X} &- \text{structure sheaf} \\
\mathcal{O}_{X}(U) &- \{f: U \rightarrow \CC \text{ regular for open } U\}\\
\mathcal{F}(U) &- \mathcal{O}_{X}\text{- module sheaves}
\end{align*}

We are concerned with invertible $\mathcal{O}_{X}$-module sheaves, i.e., locally free of rank $1$. These are called invertible sheaves. 

\begin{example}
For a number field $F$, take $\mathcal{O}_{F}$ as the structure sheaf. Any nonzero fractional ideal is invertible hence we can think of that as the invertible sheaves.
\end{example}

Invertible sheaves form a group under $\otimes_{\mathcal{O}_{X}}$. \\

$H^{0}(X, \mathcal{F})=$ global sections. 

\begin{remark}
As $X$ is a smooth projective curve, $H^{0}(X, \mathcal{F})=\CC$. This is like Liouville's theorem.
\end{remark}

We can take a look at meromorphic sections of $\mathcal{F}$ $$\mathcal{F}(U) \otimes_{\mathcal{O}_{X}(U)} \mathrm{Frac}(\mathcal{O}_{X}(U))$$ where $\mathrm{Frac}(\mathcal{O}_{X}(U))$ are the meromorphic functions. 

\begin{theorem}[Riemann existence theorem]
An invertible sheaf on a compact Riemann surface has a non-constant global meromorphic section.
\end{theorem}

\begin{definition}
Let $\mathcal{F}$ be an invertible sheaf on $X$. Take a non-constant global section $s$ of $\mathcal{F}$. We define $\deg(\mathcal{F})$ to be the sum of orders of zeros of $s$. 
\end{definition}

\begin{remark}
Note that this definition does not depend on the choice of $s$. If we take a different $s'$, then $s = fs'$ where $f$ is a global meromorphic section of $\mathcal{O}_{X}$ ($\deg f = 0 = \text{ sum of orders of zeros}$)
\end{remark}

\begin{proposition}
Properties of the degree function:
\begin{enumerate}
\item $\deg(\mathcal{F} \otimes_{\mathcal{O}_{X}} \mathcal{G}) = \deg \mathcal{F} + \deg \mathcal{G}$
\item $\deg \mathcal{F}^{-1} = - \deg \mathcal{F}$
\end{enumerate}
\end{proposition}

\begin{theorem}[Riemann-Roch theorem]
\begin{enumerate}
\item $H^{0}(X, \mathcal{F})$ is a finite dimensional $\CC$-vector space.
\item Put $h^{0}(X,\mathcal{F}) = \dim_{\CC}H^{0} (X, \mathcal{F})$. Then, $$h^{0}(X, \mathcal{F}) - h^{0}(X, \Omega_{X}^{1} \otimes \mathcal{F}^{-1}) = 1- g(X) + \deg \mathcal{F}$$ where $\Omega = \Omega_{X}^{1}$ is the sheaf of holomorphic differentials on $X$.
\end{enumerate}
\end{theorem}

\begin{remark}[Facts]
\begin{enumerate}
\item If $\deg \mathcal{F} < 0$, then $H^{0}(X, \mathcal{F})=0$ 
\item If $\deg \mathcal{F} >>0$, then $H^{0}(X, \Omega \otimes \mathcal{F}^{-1})=0$
\end{enumerate}
\end{remark}

\begin{lemma}
\begin{enumerate}
\item $h^{0}(X, \Omega) = g(X)$
\item $\deg \Omega = 2g-2$
\end{enumerate}
\end{lemma}

\begin{proof}
\begin{enumerate}
\item Take $\mathcal{F}  = \mathcal{O}_{X}$. Then 
\begin{align*}
h^{0}(X, \mathcal{O}_{X}) - h^{0}(X, \Omega \otimes_{\mathcal{O}_{X}} \mathcal{O}_{X}^{-1}) &= 1 - g(X) + \deg \mathcal{O}_{X} \\
1 + h^{0}(X, \Omega) = 1- g(X) + 0\\
g(X) &= h^{0}(X,\Omega)
\end{align*}
\item Take $\mathcal{F} = \Omega$. Then, 
\begin{align*}
h^{0}(X, \Omega) - h^{0}(X, \Omega_{X}) &= 1 - g(X) + \deg \Omega \\
g(X) - 1 &= 1-g + \deg \Omega
\end{align*}
\end{enumerate}
\end{proof}

\begin{lemma}

\end{lemma}

\begin{definition}[Katz sheaf]
Let $X(\Gamma), k \in \ZZ$ be as usual. For $V$ open in $X(\Gamma)$, we define a sheaf $\omega_{k}$ as $$\omega_{k} = \{f: \pi^{-1}(V) \subseteq \mathbb{H} \rightarrow \CC\}$$ with $f$ is holomorphic and $f(\gamma \cdot z) = (cz+d)^k f(z) \; \forall \; \gamma \in \Gamma, \forall \; z \in \pi^{-1}(V)$ and $\pi: \mathbb{H}^{*} = \mathbb{H} \cup \PP^{1}(\QQ) \rightarrow X(\Gamma)$ 
\end{definition}

\begin{remark}
$H^{0}(X(\Gamma), \omega_{k})$ gives modular forms of weight $k$ and level $\Gamma$. 
\end{remark}

\begin{theorem}
\begin{enumerate}
\item $\omega_{k}$ is an invertible sheaf.
\item $\omega_{2} = \Omega$ (cusps).
\end{enumerate}
\end{theorem}

Let $\mathcal{L}$ be an invertible sheaf, $D =\sum_{i} n_{i}P_{i}$ divisor of $X$ ($P_{i}$ is a point of $X$). If $x$ is a meromorphic section of $\mathcal{L}$, then $$\mathrm{div}(x) := \sum_{P \in X} \ord_{P}(x)$$ and $$\mathcal{L}(D) = \{x, \text{ a meromorphic section of }\mathcal{L}: \mathrm{div}(x) + D \geq 0\}$$

\begin{example}
If $P$ is a point of $X$. Then, 
\begin{align*}
\mathcal{L}(-P) &= \text{ meromorphic section $x$ of $\mathcal{L}$ with atleast a simple zero of $P$}\\
\mathcal{L}(P) &= \text{meromorphic section $x$ of $\mathcal{L}$ with atmost a simple pole at $P$}
\end{align*}
\end{example}

\begin{definition}
$$\text{cusps} =\sum_{P \in \Gamma \bs \PP^1(\QQ)} P$$
\end{definition}

If $\Gamma$ is a congruence subgroup. Then, $$\Gamma_{\infty} =\{g \in \Gamma: g \cdot \infty = \infty\}$$ has one of the following forms $\{\pm I_{2}\}, \left\langle \begin{pmatrix}
1 & h \\ 0 & 1 
\end{pmatrix} \right\rangle, \left\langle -\begin{pmatrix}
1 & h \\ 0 & 1 
\end{pmatrix} \right\rangle$

\begin{definition}
\begin{enumerate}
\item $\infty$ is called irregular cusp for $\Gamma$ if $\Gamma_{\infty} = \left\langle -\begin{pmatrix}
1 & h \\ 0 & 1 
\end{pmatrix} \right\rangle$
\item A cusp $s$ is called irregular if $\infty$ is irregular for $\alpha \Gamma \alpha^{-1}$ where $s= \alpha \cdot \infty (\alpha \in \SL_{2}(\ZZ))$
\end{enumerate}
\end{definition}

\begin{definition}
Let $r$ be the least common multiple of integers in the following set $$\{\mathrm{Stab}_{\Gamma}(P), P \in \mathbb{H}\} \cup \{2 \text{ if there exists an irregular cusp}\}$$
\end{definition}

\begin{exercise}
$1\le r \le 12$
\end{exercise}

\begin{definition}
$\Gamma$ is called neat if $r=1$.
\end{definition}

\begin{exercise}
\begin{enumerate}
\item $\Gamma_{0}(N)$ is neat for $N \geq 5$.
\item If $\Gamma$ is neat, then it has no elliptic points and $-I \not \in \Gamma$
\end{enumerate}
\end{exercise}

\begin{theorem}
If $\Gamma$ is neat, then for any $k \geq 0$, we have $$\dim_{\CC} M_{k}(\Gamma) = (k-1)(g(X(\Gamma))-1) + \frac{k}{2} \epsilon_{\infty}$$
\end{theorem}

\begin{remark}[Fact]
For an integer $r$ as above, we have $\omega_{k + r} = \omega_{k} \otimes \omega_{r}$ \\

In particular, if $r=1$, then $\omega_{r} = \omega_{1}^{\otimes r}  = \omega^{\otimes r}$
\end{remark}

\begin{proof}[Proof of theorem]
\begin{align*}
\deg \omega &= \frac{1}{2} \deg \omega^{\otimes 2} \\
&= \frac{1}{2} \deg (\Omega(\text{cusps})) \\
&= \frac{1}{2} (\deg \Omega + \epsilon_{\infty}) \\
&= g-1 + \frac{\epsilon_{\infty}}{2}
\end{align*}
$\therefore$
\begin{align*}
h^{0}(X(\Gamma), \omega_{k}) &= k(g-1 + \frac{1}{2} \epsilon_{\infty}) - g + 1 \\
&= (k-1)(g-1) + \frac{k}{2} \epsilon_{\infty}
\end{align*}
\end{proof}



\part{Elliptic Curves}

\chapter{Lecture-1 (3rd January): Introduction }

\chapter{Lecture-2 (5th January, 2023): Affine varieties }

\section{Affine Varieties}

Suppose $k$ is a perfect field (every extension is separable). \\
Let $G(\bar{k}/k)$ be the Galois group of the extension. It can also be viewed as $\displaystyle{\varinjlim_{L/K \text{Galois, }L \text{ finite}} \mathrm{Gal}(L/K)}$. \\



\chapter{Lecture-3 (10 January, 2023): Projective varieties}

\section{Projective varieties}

\begin{definition}
A Projective $n$-space over $k$ denoted by $\mathbb{P}^n$ or $\mathbb{P}^{n}(\bar{K})$ is the set $\mathbb{A}^{n+1} \backslash \{(0,\hdots , 0)\} / \sim$ with  
$$(x_{0}, \hdots ,x_{n}) \sim (y_{0},\hdots ,y_{n})$$ iff $\exists \lambda \in \bar{k}^{\times}$ such that $(y_{0},\hdots ,y_{n}) = (\lambda x_{0},\hdots ,\lambda x_{n})$\\
The equivalence class $(x_{0},\hdots ,x_{n+1})$ is denoted by $[x_{0},\hdots ,x_{n}]$\\
The set of $k$-rational points of $\mathbb{P}^n$ is $$\mathbb{P}^n = \{[x_{0}, \hdots , x_{n}]\; \mid \; x_{i} \in k\}$$
\end{definition}

\textcolor{red}{Caution}: If $p = [x_{0},\hdots ,x_{n}] \in \mathbb{P}^n(k)$ and $x_{i} \neq 0$ for some $i$, then $x_{j}/x_{i} \in k \forall j$

\begin{definition}
Let $p = [x_{0},\hdots ,x_{n}] \in \mathbb{P}^n(\bar{k})$. The minimal field of definition for $p$ is the field $$k(p) = k(x_{0}/x_{i},\hdots ,x_{n}/x_{i}) \text{ for any } i \text{ such that } x_{i} \neq 0$$
$k(p) \frac{x_{i}}{x_{j}} = k(x_{0}/x_{j},\hdots ,x_{n}/x_{j})$ is the same as $k(p)$ as $x_{i}/x_{j} \in k(p)$
\end{definition}  

For $\sigma \in G(\bar{k}/k)$ and $p = [x_{0},\hdots ,x_{n}] \in \mathbb{P}^n$, we have the following action $$\sigma(p) = [\sigma(x_{0}),\hdots ,\sigma(x_{n})]$$
This action is well defined as $$\sigma(\lambda p) = [\sigma(\lambda)\sigma(x_{0}),\hdots ,\sigma(\lambda) \sigma(x_{n})] \sim [\sigma(x_{0}),\hdots ,\sigma(x_{n})]$$

\begin{definition}
A polynomial $f \in \bar{k}[X_{0}, \hdots , X_{n}]$ is homogenous of degree $d$ if $$f(\lambda x_{0} , \hdots , \lambda x_{n})  = \lambda^d f(x_{0} , \hdots ,x_{n}) \forall \lambda \in \bar{k}$$
\end{definition}

\begin{definition}
An ideal $I \subseteq \bar{k}[X_{0} , \hdots , X_{n}]$ is called a homogenous ideal if it is generated by homogenous polynomial.  
\end{definition}

\begin{definition}
Let $I \subseteq \bar{k}[X_{0} , \hdots , X_{n}]$ be a homogenous ideal. Then, $$V(I) = \{p \in \mathbb{P}^n (\bar{k}) \mid f(p)=0 \; \forall \; f\in I\}$$
\end{definition}

\begin{definition}
\begin{itemize}
\item A projective algebraic set is any set of the form $V(I)$ for some homogenous ideal $I$. 
\item If $V$ is a projective algebraic set, the homogenous ideal of $V$, denoted by $I(V)$ is the ideal of $\bar{k}[X_{0} \hdots , X_{n}]$ generated by $\{f \in \bar{k}[X_{0} \hdots , X_{n}]\mid f \text{ is homogenous and }f(p)= 0 \; \forall \; p\in V\}$
\item Such a $V$ is defined over $k$, denoted by $V/k$ if its ideal $I(V)$ can be generated by homogenous polynomials $k[X_{0} \hdots , X_{n}]$. 
\item If $V$ is defined over $k$, then the set of $k$-rational points of $V$ is $$V(k) = V \cap \mathbb{P}^{n}(k) = \{p \in V \mid \sigma(p)=p \; \forall \; \sigma \in G(\bar{k}/k)\}$$
\end{itemize}
\end{definition}

\begin{example}
A line in $\mathbb{P}^2$ is given by the equation $aX + bY + cZ=0$ with $a,b,c \in \bar{k}$ and not all $0$ simultaneously. \\
If $c\neq 0$, then such a line is defined over a field containing $a/c, b/c$. \\
More generally, a hyperplane in $\mathbb{P}^n$ is given by an equation $a_{0}X_{0} + \cdots + a_{n}X_{n} = 0$ with all $a_{i} \neq 0$ simultaneously.
\end{example}

\begin{example}
Let $V$ be the projective algebraic set in $\mathbb{P}^2$ given by $X^2 + Y^2 = Z^2$. 
\begin{align*}
\mathbb{P}^1 & \overbrace{\rightarrow}^{\sim} V \\
[s,t] & \mapsto [s^2 - t^2 : 2st : s^2+t^2]
\end{align*}
\end{example}

\begin{remark}
For $p \in \mathbb{P}^n(\QQ)$ you can clear the denominators and then divide by common factor so that $x_{i} \in \ZZ$ and $\gcd(x_{0} , \hdots ,x_{n})=1$. So, $I =(f_{1}, \hdots , f_{m})$ and finding a rational point of $V_{I}$ is same as finding coprime integer solutions to $f_{i}'s$. 
\end{remark}

\begin{example}
$V \subseteq \mathbb{P}^2$ such that $X^2 + Y^2 = 3Z^2$ over $\QQ$. To find $V(\QQ)$, we just need to find integers $a,b,c$ such that $a^2 +b^2 = 3c^2$
\end{example}

\begin{example}
$V : 3X^3 + 4Y^3 + 5Z^3 = 0$. $V(\QQ) = \emptyset$ but for all prime $p$ we have $V(\QQ_{p}) \neq \emptyset$
\end{example}

\begin{definition}
A projective algebraic set is called a projective variety if its homogenous ideal $I(V)$ is prime $\bar{k}[X_{0}, \hdots , X_{n}]$
\end{definition}

Relation between affine and projective varieties: \\

For $ 0 \le i \le n$
\begin{center}
\begin{align*}
\phi_{i}: \mathbb{A}^n &\rightarrow \mathbb{P}^n \\
(Y_{1}, \hdots , Y_{n}) &\mapsto [Y_{1}, \hdots , Y_{i-1}, 1, Y_{i+1} , \hdots , Y_{n}]
\end{align*}
\end{center}
$\mathrm{Im}(\phi) = U_{i} = \{p \in \mathbb{P}^n \mid \; p =[x_{0}: \hdots  : x_{n}] \text{ with } x_{i} \neq 0\} = \mathbb{P}^n \backslash H_{i}$. \\
This process can also be reversed by the following map : 
\begin{center}
\begin{align*}
\phi_{i}^{-1}: U_{i} &\rightarrow \mathbb{A}^n \\
[x_{0}: \hdots : x_{n}) &\mapsto [x_{0}/x_{i}, \hdots , x_{i-1}/x_{i}, x_{i+1}/x_{i} , \hdots , x_{n}/x_{i}]
\end{align*}
\end{center}

Let $V$ be a projective algebraic set with homogenous ideal $I(V) \subseteq \bar{k}[X_{0} ,\hdots , X_{n}]$. Then, $$V \cap \mathbb{A}^n = \phi_{i}^{-1}(V \cap U_{i}) \text{ for fixed } i $$ is an affine algebraic set with $I(V \cap \mathbb{A}^n ) \subset \bar{k}[X_{0} , \hdots , X_{i-1},X_{i+1}, \hdots , X_{n}]$

\begin{definition}
Let $V \subseteq \mathbb{A}^n$ be an affine algebraic set with ideal $I(V)$ and consider $V \subseteq \mathbb{P}^n$ and $\phi_{i}$ defined as before. \\
The projective closure of $V$ is $\bar{V}$ is the projective algebraic set whose homogenous ideal $I(V)$ is generated by $\{f^* \mid f \in I(V)\}$. \\
Here, for $f \in k[X_{0}, \hdots , X_{i-1}, X_{i+1}, \hdots , X_{n}]$ we define $$f^* (X_{0} , \hdots , X_{n}) = X_{i}^d (f(X_{0}/X_{i}, \hdots , X_{i-1}/X_{i}, X_{i+1}/X_{i}, \hdots , X_{n}/X_{i}))$$ with $d = \deg (f)$.
\end{definition}

\begin{definition}
Dehomogenization of $f(X_{0}, \hdots , X_{n})$ with respect to $i$ is $f(X_{0}, \hdots , X_{i-1}, 1 , X_{i+1}, \hdots ,X_{n})$
\end{definition}

\begin{proposition}
\begin{enumerate}
\item Let $V$ be an affine variety. Then $\bar{V}$ is a projective variety and $V = \bar{V} \cap \mathbb{A}^n$. 
\item Let $V$ be a projective variety. Then, $V \cap \mathbb{A}^n$ is an affine variety and either $V \cap \mathbb{A}^n = \emptyset$ or $V = \overline{V \cap \mathbb{A}^n}$. 
\item If an affine (resp. projective) variety $V$ is defined over $k$, then $\bar{V}$ (resp. $V \cap \mathbb{A}^n$) is also defined over $k$.
\end{enumerate}
\end{proposition}

\begin{proof}
\begin{enumerate}
\item 

\item

\item
\end{enumerate}
\end{proof}

\begin{example}
$V : Y^2 = X^3 + 17 \subseteq \mathbb{A}^2 \rightarrow \mathbb{P}^2$ with $(X,Y) \mapsto [X: Y: 1]$. Here, $\overline{V} : Y^2Z =X^3 +17Z^3$ and $\overline{V} \backslash V = \{[0:1:0]\}$
\end{example}

\chapter{Lecture-4 (12th January, 2023): Projective varieties and maps between varieties}

\section{Projective varieties contd..}

\begin{definition}
\begin{itemize}
\item Let $Y / k$ be a projective variety and choose $\Aa^n \subseteq \PP^n$ such that $V \cap \Aa^n \neq \emptyset$. The dimension of $V$ is just dimension of $V \cap \Aa^n$.
\item The function field of $V$, $\bar{k}(V) = \bar{k}(V \cap \Aa^n)$ is the function field for $V \cap \Aa^n$ over $\bar{k}$.
\item Similarly, $k(V) = k(V \cap \Aa^n)$
\begin{align*}
\phi_{i}: \Aa^n \rightarrow \PP^n &\I(V \cap \Aa_{i}^n) \\
\phi_{j}: \Aa^n \rightarrow \PP^n &\I(V \cap \Aa_{j}^n) \\ 
\end{align*}
For different $\phi_{i}$ we obtain $k(V)$s but they are canonically isomorphic to each other. This is because we can just switch $x_{i},x_{j}$ are dehomogenise accordingly. 
\end{itemize}
\end{definition}

\begin{definition}
Let $V$ be a projective variety and $p \in V$. Choose $\Aa^n \subseteq \PP^n$ with $p \in \Aa^n$. Then, $V$ is non-singular (or smooth) at $p$ if $V\cap \Aa^n$ is non-singular at $p$. \\

The local ring of $V$ at $p$, $\bar{k}[V]_{p}$ is just the local ring of $\bar{k}[V \cap \Aa^n]_{p}$
\end{definition}

\begin{remark}
Function field of a projective variety $V$ is field of rational functions $f(X)/g(X)$ such that 
\begin{enumerate}
\item $f,g$ are homogenous of same degree. 
\item $g \in \I(V)$.
\item $f_{1}/g_{1} = f_{2}/g_{2}$ iff $f_{1}g_{2} - f_{2}g_{1} \in \I(V)$ 
\end{enumerate}
Equivalently, take $f,g \in \bar{k}[X]/I(V)$ satisfying $1,2$.\\

\textcolor{BrickRed}{Here, $X$ is just a short form for $(X_{0}, \hdots , X_{n})$}
\end{remark}

\section{Maps between varieties}

\begin{definition}
Let $V_{1},V_{2}\in \PP^n$ be projective varieties. A rational map $$\phi : V_{1} \rightarrow V_{2}$$ $\phi = [f_{0} : \cdots : f_{n}]$ where $f_{i} \in \bar{k}(V_{1})$ such that $\forall p \in V_{1}$ at which $f_{i}$ are defined, we have $$\phi(p)= [f_{0}(p): \cdots : f_{n}(p)]$$
\end{definition}

If $V_{1},V_{2}$ are defined over $k$, we have a Galois action. For $\sigma \in G(\bar{k}/k)$ we have $$\sigma(\phi)(p) = [\sigma(f_{0}): \cdots : \sigma(f_{n})(p)]$$
We can check that $\sigma(\phi(p)) = \sigma(\phi)(\sigma(p))$.\\

\begin{definition}
If $\exists \lambda \in \bar{k}^{\times}$ such that $\lambda f_{i} \in k(V_{1})$, then $\phi$ is said to be defined over $k$.
\end{definition}

\begin{proposition}
$\phi$ is defined over $k$ iff $\phi =\sigma(\phi) \; \forall \; \sigma \in G(\bar{k}/k)$.
\end{proposition}

\begin{definition}
A rational map $\phi: V_{1} \rightarrow V_{2}$ is said to be regular if there exists a function $g \in \bar{k}(V_{1})$ such that 
\begin{enumerate}
\item Each $gf_{i}$ is regular at $p$.
\item There exists some $i$ such that $(gf_{i})(p) \neq 0$
\end{enumerate}
If such a $g$ exists, then we set $$\phi(p) = [(gf_{0})(p) : \cdots : (gf_{n})(p)]$$
\end{definition}

\begin{definition}
A rational map is called a morphism if it is regular everywhere.
\end{definition}

\begin{remark}
Let $V_{1},V_{2} \in \PP^n$ be projective varieties. \\
$\bar{k}(V_{1}) = $ quotient of homogenous polynomials in $\bar{k}[X]$ of same degree.\\ 
A rational map $\phi = [f_{0}, \hdots , f_{n}]$ can be multiplied by a homogenous polynomial to clear denominators and get $\phi = [\phi_{0} , \hdots ,  \phi_{n}]$ such that 
\begin{enumerate}
\item $\phi_{i} \in \bar{k}[X]$ homogenous polynomials not all in $\I(V_{1})$ and have same degree.
\item For all $f \in \I(V_{2})$ we have $f(\phi_{0}(X), \hdots , \phi_{n}(X)) \in \I(V_{1})$. 
\end{enumerate}
\end{remark}

\begin{definition}
A rational map $\phi = [\phi_{0} , \hdots , \phi_{n}]: V_{1} \rightarrow V_{2}$ as  above is regular at $p \in V_{1}$ if there exists homogenous polynomials $\psi_{0},\hdots , \psi_{n} \in \bar{k}[X]$ such that 
\begin{enumerate}
\item $\psi_{i}$s have the same degree 
\item $\phi_{i}\psi_{j} \equiv \phi_{j}\psi_{j} \pmod{\I(V_{1})}$ for all $0  \le i,j \le n$
\item $\psi_{i}(p) \neq 0$ for some $i$.
\end{enumerate}
If this happens, we set $$\phi(p) = [\psi_{0}(p), \hdots , \psi_{n}(p)]$$
\end{definition}

\begin{remark}
Let $\phi= [\phi_{0}, \hdots , \phi_{n}]: \PP^m \rightarrow \PP^n$ be a rational map. $\phi_{i}$s are homogenous polynomials having same degree. We can cancel common factors to assume $\gcd(\phi_{0} , \hdots , \phi_{n})=1$. \\

And, $\phi$ is regular at a point $p \in \PP^n$ iff $\phi_{i}(p) \neq 0$ for some $i$.  \\
So, $\phi$ is a morphism if $\phi_{i}$s have no common zeros in $\PP^n$. 
\end{remark}

\begin{definition}
Let $V_{1},V_{2}$ be two projective varieties. We say that $V_{1},V_{2}$ are isomorphic if there are morphisms $$\phi: V_{1}\rightarrow V_{2}, \psi : V_{2} \rightarrow V_{1}$$ such that $\phi \circ \psi = \mathrm{id}_{V_{2}}, \psi \circ \phi = \mathrm{id}_{V_{1}}$. \\
$V_{1}/k$ and $V_{2}/k$ are isomorphic over $k$ if both maps are defined over $k$.
\end{definition}

\begin{example}
$\mathrm{char}(k) \neq 2$, $V: X^2 + Y^2 = Z^2$. 
\begin{align*}
\phi: V &\rightarrow \PP^2 \\
[X:Y:Z] &\mapsto [X+Z:Y]
\end{align*}
$\phi$ is regular everywhere except $[1:0:1]$\\
Since $(X+Z)(X-Z) \equiv -Y^2 \equiv \pmod{\I(V)}$, we have $[X+Z:Y] = [X^2-Z^2 : Y(X-Z)] = [-Y^2 : Y(X-Z)] = [-Y: X-Z] = \psi$ \\
\begin{align*}
\psi: \PP^1 &\rightarrow V \\
[s:t] &\rightarrow [s^2-t^2 : 2st : s^2 +t^2]
\end{align*}
$\psi\circ \phi$ and $\phi \circ \psi$ are both identity maps.
\end{example}

\begin{example}
\begin{align*}
\phi: \PP^2 &\rightarrow \PP^2 \\
[X:Y:Z] &\mapsto [X^2 : YZ : Z^2]
\end{align*}
 is regular everywhere but $[0:1:0]$ and this cannot be salvaged.
\end{example}

\begin{example}
$V: Y^2Z = X^3 + X^2 Z$
\begin{align*}
\psi: \PP^1 &\rightarrow V \\
[s:t] &\mapsto [(s^2 -t^2)t : (s^2 -t^2)s : t^3]
\phi: V &\rightarrow \PP^1 \\
[X:Y:Z] &\mapsto [X:Y]
\end{align*}
$\phi$ is not regular at $[0:0:1]$. $[0:0:1]$ is a singular point of $V$ which implies $\phi$ cannot be extended. So $\phi \circ \psi$ and $\psi \circ  \phi$ are identities  when they are defined.
\end{example}

\begin{example}
$V_{1}: X^2 + Y^2 = Z^2 , V_{2}: X^2 + Y^2 = 3Z^2$. $V_{1} \not \cong V_{2}$ over $\QQ$ but $V_{1}\cong V_{2}$ over $\QQ(\sqrt{3})$.
\end{example}

\chapter{Lecture-5 (17th January, 2023): Algebraic curves}

\section{Curves}

\begin{definition}
A curve is a projective variety of dimension $1$.
\end{definition}

\begin{example}
Vanishing set of an irreducible polynomial in $\PP^2$.
\end{example}

\begin{proposition}
Let $C$ be a curve and $p \in C$ be a smooth (non-singular) point. Then, $\bar{k}[C]_{p}$ is a discrete valuation ring.
\end{proposition}

\begin{proof}
$p \in C$ smooth implies $M_{p}/M_{p}^2$ is one dimensional over $\bar{k}[C]_{p}/M_{p} = \bar{k}$. Now, Nakayama will give us $M_{p}$ is a principal ideal. \\

\textbf{Claim}:
$\bigcap_{n} M_{p}^n = 0$.

\begin{proof}
If $\alpha \in \bigcap_{n} M_{p}^n$, then $\alpha = a_{1}t = a_{2} t^2 = a_{3} t^3 = \cdots $. This implies $a_{1} = a_{2}t = a_{3}t^2 = \cdots $. But this gives us a chain $$\langle a_{1} \rangle \subseteq \langle a_{2} \rangle \subseteq \langle a_{3} \rangle \subseteq \cdots $$ that must terminate at some point. This implies $t$ is an unit which is a contradiction. Hence, we are done.
\end{proof}
\end{proof}

\begin{definition}
Let $C$ be a curve and $p \in C$ a smooth point. The normalised valuation on $\bar{k}[C]_{p}$ is 
\begin{align*}
\mathrm{ord}_{p}: \bar{k}[C]_{p} &\rightarrow \NN \cup \{0, \infty\} \\
f &\mapsto \sup \{d \in \ZZ \mid f \in M_{p}^d \} \\
\mathrm{ord}_{p}(\frac{f}{g}) &= \mathrm{ord}_{p}(f) - \mathrm{ord}_{p}(g)
\end{align*}
Thus we can define $$\mathrm{ord}_{p} : \bar{k}[C] \rightarrow \ZZ \cup \{\infty\}$$
\end{definition}

\begin{definition}
An uniformiser for $C$ at $p$ is any function $t \in \bar{k}(C)$ with $\mathrm{ord}_{p}(t) = 1$ that is the generator of $M_{p}$
\end{definition}

\begin{remark}
If $C$ is defined over $k$, we can find a unit $t \in k(C)$.
\end{remark}

\begin{definition}
Let $C$ be a curve and $p \in C$ a smooth point, $f \in \bar{k}(C)$, $\ord_{p}(f) =$ order of $f$ at $p$.

\begin{enumerate}
\item If $\ord_{p}(f)> 0$, then $f$ has a zero at $p$.
\item If $\ord_{p}(f)< 0$, then $f$ has a pole at $p$.
\item If $\ord_{p}(f)\geq 0$, then $f$ is regular at $p$.
\end{enumerate}
\end{definition}

\begin{proposition}
Let $C$ be a smooth curve and $0 \neq f \in \bar{k}(C)$. Then, there are only finitely many points in $C$ at which $f$ has a pole or $0$. If $f$ has no poles, then $f\in \bar{k}$.
\end{proposition}

\begin{proof}
A standard exercise in Riemann surfaces.
\end{proof}

\begin{example}
Suppose $C_{1}: Y^2 = X^3 + X , C_{2}: Y^2 = X^3 + X^2$. $C_{1}$ is smooth everywhere but $C_{2}$ is smooth everywhere except $p = [0:0:1]$.\\

In $\bar{k}[C_{1}]_{p}$, $M_{p} = \langle X,Y \rangle$ and $X \in M_{p}^2$.
\end{example}

\begin{proposition}
Let $C/k$ be a curve and $p \in C$ be a smooth point, and $t \in k(C)$ an uniformiser at $p$. Then, $k(C)$ is a finite separable extension of $k(t)$.
\end{proposition}

\begin{proof}
$k(C)$ is a finite algebraic extension as it is finitely generated over $k$ and has transcendence degree $0$ over $k(t)$ as $t$ is not algebraic over $k$ (it is a local coordinate of $C$ at $p$). \\

Now, take $x\in k(C)$ and let $\Phi(T,X) = \sum a_{ij}T^{i}X^{j}$ be the minimal polynomial at $x$ over $k(t)$. Say $q = \mathrm{char}(k)$. If $\Phi (T,X)$ is not separable, then $\frac{\partial \Phi(T,X)}{\partial X} = 0$ as $\Phi(T,X)$ is irreducible. 

\begin{align*}
\Phi(T,X) &= \Psi (T,X^p) \\
&= \sum_{k=0}^{q-1} \left( \sum_{i,j} b_{ijk} T^{iq} X^{iq} \right) T^k \\
&= \sum_{k=0}^{q-1} \left( \Phi_{k}(T,X) \right)^q T^k \text{     since $k$ is perfect, every element is a $q$-th power} \\
\sum_{k=0}^{q-1} \left( \Phi_{k}(t,x) \right)^q t^k &=0\\
\ord_{p} (\Phi_{k}(t,x)^q t^k) &\equiv k \pmod{q}
\end{align*}
This implies that every term in the final sum has distinct order at $p$. And, hence $$\Phi_{0}(t,x) = \Phi_{1}(t,x) = \cdots = \Phi_{q-1}(t,x) = 0$$ Atleast one of the $\Phi_{i}$s should have a nonzero power of $X$ and $X - \deg \Phi_{i} < X - \deg \Phi$ and hence $\Phi_{k}(t,x) =0$ which contradicts minimality of $\Phi$. Hence, we are done.
\end{proof}

\section{Morphism between curves}

\begin{proposition}
Let $C$ be a curve, $V \subseteq \PP^n$ be a variety, $p \in C$ a smooth point and $$\phi : C \rightarrow V$$ a rational map. Then, $\phi$ is regular at $p$. In particular, if $C$ is smooth, then $\phi$ is a morphism.
\end{proposition}

\begin{proof}
Suppose $\phi = [f_{0} : \cdots : f_{n}]$ with $f_{i} \bar{k}(C)$ and $t \in \bar{k}(C)$ an uniformiser for $C$ at $p$. Let $$n = \min \ord_{p} f_{i}$$ Then, $\ord_{p}(t^{-n}f_{i}) \geq 0 \; \forall \; i$ and $\ord_{p}(t^{-n}f_{j})=0$ for some $j$. But then this means $t^{-n}f_{i}$ are regular at $p$, $t^{-n}f_{j}(p) \neq 0$ and thus $\phi$ is regular at $p$.
\end{proof}

\begin{remark}
This proposition is not true if either $\dim(C) > 1$ or $p$ is singular 
\begin{enumerate}
\item $\phi: \PP^n \rightarrow \PP^n$ be $[X:Y:Z] \mapsto [X^2 : YZ : Z^2]$ is not regular at $p = [0:1:0]$.
\item Suppose $V : Y^2 Z = X^3 + X^2 Z$ and $V \rightarrow \PP^1$ be given by $[X:Y:Z] \mapsto [Y:X]$ is not regular at $[0:0:1]$.
\end{enumerate}
\end{remark}

\begin{example}
\begin{enumerate}
\item $V: X^2 + Y^2 = Z^2$
\end{enumerate}
\end{example}


\chapter{Lecture-6 (19th January, 2023):}


\chapter{Lecture-7 (24th January, 2023):}

\chapter{Lecture-8 (31st January, 2023): Group Law}

\section{Group Law and definition of Elliptic Curve}

%insert the diagram of Y^2=X^3-X

\begin{proposition}
If $E$ is a curve given by the Weierstrass cubic $f(x,y,z)=0$ and $L$ be a line. Then, number of points of $L \cap E$ counted with multiplicity is $3$.
\end{proposition}

\begin{proof}
Suppose $P \in L \cap E$. Multiplicity of intersection of $L \cap E$ at $P$ is given by $\dim_{\bar{k}}K[E]_{P}/L = \dim_{\bar{k}}\bar{k}[X,Y]_{\m_{P}}/\langle \tilde{L}, \tilde{f} \rangle$ where $\tilde{-}$ is the dehomogenisation depending on the affine chart.
\begin{example}
$P=(0,0), L :x=0$. Multiplicity of $L\cap E$ at $P$ equals $\dim_{\bar{k}}[X,Y]_{\m_{P}}/\langle Y^2 - X^3 + X, X\rangle \simeq \dim_{\bar{k}} \bar{k}[Y]/Y^2 = 2$. \\

If $L': Y-X=0$, then $\dim_{\bar{k}}[X,Y]_{\m_{P}}/\langle Y^2 - X^3 + X-Y, X\rangle \simeq \dim_{\bar{k}} \bar{k}[Y]/\langle Y(Y - Y^2 -1) = \dim_{\bar{k}}\bar{k}=1$ since $Y-Y^2 -1$ is an unit.
\end{example}
All of this is a special case of Bezout's theorem which is stated after this proof.\\

Back to the proof. \\

Suppose $L : aX+bY+cZ=0$.\\ 
\textbf{Case-1:} $b\neq 0$ so $O = [0:1:0] \not \in L$. Dehomogenize with respect to $Y$ to get $aX+bY+c=0$. For $P \in L \cap E$, $$\frac{\bar{k}[E]_{P}}{\langle L,f \rangle } = \frac{\bar{[X,Y]_{\m_{P}}}}{\langle f, aX+bY+c \rangle} = \frac{\bar{k}[X,Y]}{\langle g(X) \rangle} (X-X(P))$$ where $g(X)$ is obtained by substituting $Y = -(aX+c)/b$ to $f$. Therefore $\dim_{\bar{k}}\bar{k}[E]_{P}/ \langle L , f \rangle =$ multiplicity of $X(P)$ as a root of $g(X)$. This implies the number of points of $L \cap E$ with multiplicity is the number of roots of $g(X)$ with multiplicity which is $3$. \\

\textbf{Case-2:} $b=0$
\begin{enumerate}
\item Suppose $a \neq 0 \Rightarrow L: X-cZ=0$. \\
Multiplicity of $L \cap E$ at $O$ is $\dim_{\bar{k}}\bar{k}[X,Y]_{\m_{O}}/ \langle \tilde{f} , X-cZ \rangle \simeq \dim_{\bar{k}} \bar{k} = 1$. \\
For $P \in \Aa^2 \cap E$, multiplicity of $L\cap E$ at $P$ is $\dim_{\bar{k}}\bar{k}[X,Y]_{\m_{P}} \langle f, X-cZ \rangle  = \dim_{\bar{k}}(\bar{k}[Y]/h)(Y-Y(P))$ with $h$ obtained from $f$ by substituting $X=c$. \\
Therefore, the total multiplicity is $1 + \#\text{ roots with multiplicity of } h = 1+2 =3$
\item $L : z=0$, then $L \cap E = \{0\}$. In the Weierstrass equation, after homogenization, this will mean that just $X^3$ survives. Therefore, $\dim_{\bar{k}} \bar{k}[X,Z]_{\m_{P}}/ \langle \tilde{f} , Z \rangle = \dim_{\bar{k}} \bar{k}[X]/\langle X^3 \rangle = 3$
\end{enumerate}
This concludes the proof.
\end{proof}

\begin{theorem}
IF $F,G$ are coprime homogenous polynomials in $k[X,Y,Z]$ and $V=\V(F), W=\V(G) \subseteq \PP^2$. Then the number of points of $V\cap W$ with multiplicity equals $mn$ where $m=\deg F, n = \deg G$.
\end{theorem}

\subsection{Composition Law of $E$}
Suppose $P,Q \in E$ and $L$ be the line passing through $P,Q$ (if $P=Q$, then $L$ is the tangent line at $P$) and let $R$ be the third point in the intersection of $L$ with $E$. Let $L'$ be the line joining $R$ and $O$ the point at infinity. $L'$ intersects $E$ at $R,O$ and a third point. We denote this point by $P \oplus Q$

\begin{proposition}
The composition law above makes $E$ into an abelian group, i.e., 
\begin{enumerate}
\item If $L$ intersects $E$ in $P,Q,R$, then $(P \oplus Q) \oplus R = 0$
\item $P \oplus O = P \; \forall \; P$
\item $P \oplus Q = Q \oplus P \; \forall \; P,Q$
\item If $P \in E$, then there exists $-P \in E$ such that $P \oplus (-P) = 0$
\item If $P,Q,R \in E$, then $(P \oplus Q ) \oplus R = P \oplus (Q \oplus R)$
\item If $E$ is defined over $k$, then $$E(k) = \{(x,y) \in k^2 : f(x,y)=0\} \cup \{0\}$$ is a subgroup of $E$.
\end{enumerate}
\end{proposition} 

\begin{proof}

\end{proof}

\textbf{Notation}: Suppose $P \in E$
$ [m]P = \begin{cases}
0 & \\
P \oplus \cdots \oplus P &, m>0 \\
-P \oplus \cdots \oplus -P &, m<0
\end{cases} $

Now, we can explicitly compute the coordinates of the points. Suppose $P = (x_{0},y_{0}) \in E$. Line passing through $P$ and $O$: $X-x_{0}Z$. Dehomogenize with respect to $Z$ to get $X-x_{0}=0$

\begin{align*}
f(X,Y) &= Y^2 + a_{1}XY + a_{3}Y - (X^3 + a_{2}X^2 + a_{4}X - a_{6})\\
\Rightarrow X(-P) &= x_{0}\\
\Rightarrow Y(-P) &\text{ is another root of } f(Y,x_{0}) \\
\Rightarrow Y(-P) &= -y_{0} - a_{1}x_{0} -a_{3} \\
\Rightarrow -P &= (x_{0}, -y_{0}-a_{1}x_{0} - a_{3}) 
\end{align*}

Suppose $P_{i} = (x_{i},y_{i}), i=1,2$. \\

We want to find $P_{1} \oplus P_{2}$'s coordinates. \\

If $x_{1}=x_{2}$ and $y_{1} + y_{2} + ax_{2} + a_{3}=0$, then $P_{1} \oplus P_{2} = 0$. Assume that this is not the case. This means that the line passing through $P_{1}$ and $P_{2}$ does not go through $O$ and thus $L: Y = \lambda x + \nu$. By high school methods, \\

If $x_{1}\neq x_{2}$, we get 
\begin{align*}
\lambda &= \frac{y_{1}-y_{2}}{x_{1}-x_{2}} \\
\nu &= \frac{y_{1}x_{2} - y_{2}x_{1}}{x_{2}-x_{1}} 
\end{align*}

If $x_{1} = x_{2}$, we have 
\begin{align*}
\lambda &= \frac{3x_{1}^2 + 2a_{2}x_{1} + a_{4} - a_{1}y_{1}}{2y_{1} + a_{1}x_{1} + a_{3}} \\
\nu &= \frac{-x_{1}^3 + a_{4}x_{1} +2a_{6} -a_{3}y_{1}}{2y_{1} + a_{1}x_{1} + a_{3}}
\end{align*}

This implies $f(x, \lambda x + \nu)$ has $3$ roots say $x_{1},x_{2},x_{3}$. Let $P_{3}=(x_{3}, y_{3} = \lambda x_{3} + \nu)$

\begin{align*}
\therefore f(X,\lambda X + \nu -(X-x_{1})(X-x_{2})(X-x_{3}) ) &= 0\\
\Rightarrow x_{1} + x_{2} + x_{3} &= \lambda^2 + a_{1}\lambda - a_{2} \\
\Rightarrow X(P_{1}\oplus P_{2}) &= \lambda^2 + a_{1}\lambda - a_{2} - x_{1} - x_{2} \\
Y(P_{1} \oplus P_{2}) &= -(\lambda + a_{1})x_{3} - \nu -a_{3}
\end{align*}

\textbf{Duplication formula}: $X([2]P) = \ds{\frac{x^4 -b_{4}x^2 -2b_{6}x - b_{8}}{4x^3 + b_{2}x^2 + 2b_{4}x + b_{6}}}$

\begin{example}
$E: Y^2 = X^3 + 17$. Some points on the curve are $P_{1} = (-2,3), P_{2} = (-1,4), P_{3} = (2,5), P_{4} = (4,9) , P_{5}=(8,23), P_{6}= (43, 282), P_{7} = (52, 375), P_{8} = (5234, 378661)$ \\
$\therefore P_{5} = [-2]P_{1}, P_{4} = P_{1}-P_{3} , P_{7} = [3]P_{1} - P_{3}. [2]P_{1} = \left( \frac{137}{64}, \frac{-2651}{512} \right) , P_{2} + P_{3} = \left(\frac{-8}{9}, \frac{-169}{27} \right)$ \\

The point being that $E(\QQ) = \ZZ P_{1} \oplus \ZZ P_{3}$ (Mordell-Weil) \\
$E(\ZZ) = \{\pm P_{1}, \hdots , \pm P_{8}\}$ (Siegel's theorem)
\end{example}

\begin{corollary}
Suppose $f\in \bar{k}(E) = \bar{k}(X,Y)$. Then $$f \text{ is even } \Leftrightarrow f \in \bar{k}(X)$$
\end{corollary}

\begin{proof}

\end{proof}





\chapter{Lecture-9 (2nd February, 2023): Group Law and more algebraic geometry}

\section{Algebraic geometry}

\subsection{Divisors}

\subsection{Differentials}


















\part{Basic Algebraic Geometry}

\chapter{Lecture-1 (5th January): Introduction}

\chapter{Lecture-2 (10 January, 2023): Ideals and Zariski topology}

\section{Ideals}
For $I,J$ ideals $$I+J = \{x+y \mid x\in I, y\in J\}$$ $$IJ = \{\sum x_{i}y_{i} \mid x_{i} \in I, y_{i} \in J\}$$

\begin{itemize}
\item $IJ \subseteq I \cap J$.
\item If $I+J = R$, then $I^2 + J^2 = R$. This is because, say $I^2 + J^2 \neq R$, then there is a maximal ideal $\mathrm{m}$ such that $I^2 + J^2 \subseteq \mathfrak{m}$. This means $I^2, J^2 \subseteq \mathfrak{m}$. But $\mathfrak{m}$ is prime ideal, therefore $I,J \subseteq \mathfrak{m} \Rightarrow I+J \subseteq \mathfrak{m}$ which is a contradiction. Thus, we are done. 
\item If $\mathfrak{p}$ is a prime ideal and $IJ \subseteq \mathfrak{p}$. Then, $I \subseteq \mathfrak{p}$ or $J \subseteq \mathfrak{p}$. Suppose not, then there exists $x \in I \backslash \mathfrak{p} , y \in I \backslash \mathfrak{p}$. But then $xy \in IJ \subseteq \mathfrak{p}$.
\item $\mathfrak{p} \supseteq I \cap J \Leftrightarrow IJ \subseteq \mathfrak{p}$.
\end{itemize}

\section{Zariski topology}

\begin{definition}
\begin{itemize}
\item For an ideal $I$, let $$V(I) = \{\mathfrak{p} \text{ prime ideal }\mid I \subseteq \mathfrak{p}\}$$
\item $\mathrm{Spec}(R)=\{ \text{ collection of all prime ideals of }R\}$
\end{itemize}
\end{definition}

\begin{definition}[Zariski Topology]
It is the topology defined on $\mathrm{Spec}(R)$ such that the closed sets are $V(I)$.
\end{definition}

Verification that this indeed is a topology. 
\begin{enumerate}
\item $V(0) = \mathrm{Spec}(R), V(R) = \emptyset$.
\item $V(I) \cup V(J) = V(I\cap J) = V(IJ)$.
\item $\bigcap_{k \in k} V_{k} = V(\sum_{k \in K} I_{k})$. This is because $\mathfrak{p} \supseteq I_{k} \Leftrightarrow \mathfrak{p} \supseteq \sum_{k \in K}I_{k}$
\end{enumerate}

Let us now look at the open sets of this topology. The basis for the open sets is given by $$D(f \in R) = \{ \text{ all prime ideals not containing } f\}$$
Clearly, $$(V(I))^c = \bigcup_{f \in I} D(f)$$ and moreover, each $D(f)$ is open since $D(f) = (V(\langle f \rangle))^c$

\begin{theorem}
$\mathrm{Spec}(R)$ is quasi-compact.
\end{theorem}

\begin{proof}
We wish to prove that every open cover has a finite subcover. This is equivalent to saying every cover by $D(f_{i})$ has a finite subcover. Say $$\spec(R) = \bigcup_{i \in I} D(f_{i})$$ Take $J$ to be the ideal generated by $f_{i}'s$. Either $J = R$ or $J \subseteq \mathfrak{m}$. Suppose $J \subseteq \m$, then $f_{i} \in \m \in \spec(R) \Rightarrow \m \not \in D(f_{i}) \; \forall \; i \Rightarrow D(f_{i})$ does not cover $\m$. A contradiction. Therefore, $J=R$ and this implies $1 =$ some linear combination of $f_{i}$ and notice that this sum is finite. So, just consider these finitely many $f_{i}'s$ (say the indexing set is $K$). These cover $J$. Suppose that $\{ D(f_{k}), k \in K\}$ do not cover $\spec(R)$. Then, there is a prime ideal $\pr \not \in \bigcup_{k\in K}D(f_{k}) \Rightarrow \pr \ni f_{k} \; \forall\; k \in K \Rightarrow R \subseteq \pr \Rightarrow \Leftarrow$. Hence, it covers all of $\spec(R)$ as required. \\

\textbf{Another proof:}\\
Suppose $\spec(R) = \bigcup_{j \in J} U_{j} = \bigcup_{j \in J} \spec(R) \backslash \V(I_{j}) = \spec(R) \backslash \bigcap_{j \in J} \V(I_{j}) =\spec(R) \backslash \V(\sum_{j \in J} I_{j})$. This is equivalent to saying that $\V(\sum_{j \in J} I_{j}) = \emptyset$. So, we conclude that $\sum_{j \in J}I_{j} = R \Rightarrow \sum_{k \in K}a_{k} = 1$ for some finite set $K$. We claim that $\{U_{k}: k \in K\}$ covers $\spec(R)$. This is because 
\begin{align*}
\V(\sum_{k\in K} I_{k}) &= 0 \\
\Rightarrow \spec(R) &= \spec(R) \backslash \V(\sum_{k\in K} I_{k})  \\
&= \bigcup_{k \in K} \spec(R) \backslash \V(I_{k}) \\
&= \bigcup_{k \in K} U_{k}
\end{align*}
This completes the proof. 
\end{proof}

\begin{proposition}
Each $D(f)$ is quasi-compact.
\end{proposition}

\begin{proof}
Suppose $$D(f) = \bigcup D(g_{i})$$ and let $J$ be the ideal generated by $g_{i}'s$. Take $\mathfrak{p} \supseteq J$. Then, each $g_{i} \in J \subseteq \mathfrak{p} \Rightarrow \mathfrak{p} \not \in D(g_{i}) \Rightarrow \mathfrak{p} \not \in D(f) \Rightarrow f \in \mathfrak{p} \Rightarrow f \in \bigcap_{\mathfrak{p} \supseteq J} \mathfrak{p}$. \textcolor{BrickRed}{Before completing this proof, we need to understand this intersection much better. Refer to following content on nilpotent elements and come back.}\\
Now, we know that $f \in \mathrm{rad}(J)$ which implies $\exists n$ such that $f^n \in J$. We get $$f^n = \sum_{\text{finite}} r_{i}g_{i}$$ Finally, we claim that these $D(g_{i})$s cover $D(f)$. 
\end{proof}

\begin{definition}
$x\in R$ is nilpotent if $x^n =0$ for some $n \in \NN$.
\end{definition}

\begin{remark}
Any nilpotent element ($x^n = 0$ for some $n$ ) is clearly in every prime ideal ($0 \in \mathfrak{p}$) and thus in the intersection of all prime ideals. This can be recorded as $$\bigcap_{\pr \in \spec(R)} \pr \supseteq \nil(R)$$
\end{remark}

\begin{proposition}
$$\bigcap_{\pr \in \spec(R)} \pr \subseteq \nil(R)$$
\end{proposition}

\begin{proof}
Take an element $x \in R \backslash \nil(R)$ (not nilpotent) and consider the set $$\Sigma = \{ I \unlhd R \mid x^n \not \in I \; \forall \; n >0\}$$
Notice that $\Sigma$ is a poset with respect to inclusion. And every chain $I_{1} \subseteq I_{2} \subseteq I_{3} \subseteq \cdots $ has an upper bound (union of all the ideals). Thus, we can apply Zorn's lemma to get a maximal element $\pr$ which we claim is prime. Indeed, if $ab \in \pr$ but $a\not \in \pr, b \not \in \pr$ then $\pr + \langle a \rangle, \pr + \langle b \rangle$ are ideals strictly containing $\pr$ contradicting maximality of $\pr$. Therefore, we can conclude that $x \not \in \pr \Rightarrow x \not \in \bigcap_{\pr \supseteq J} \pr$ or rather not nilpotent implies not in intersection and hence we have proved the required inclusion. 
\end{proof}

$$\nil (R) = \bigcap_{\pr \in \spec (R)} \pr = \bigcap_{\pr \subseteq \{0\}} \pr$$
$$\{x \mid x^n \in J\} = \mathrm{rad}(J) = \bigcap_{\pr \supseteq J} \pr $$

\chapter{Lecture-3 (12th January): Zariski topology }

\section{Zariski topology contd..}

\begin{definition}
If $J = \mathrm{rad}(J)$, then $J$ is called radical ideal.
\end{definition}

\textbf{Properties:}
\begin{enumerate}
\item Every radical ideal is an intersection of prime ideals.
\item $\V(J) = \V(\mathrm{rad}(J))$ 
\item $\V(J) = \V(J')$ implies $\mathrm{rad}(J) = \mathrm{rad}(J')$
\end{enumerate}

Suppose $S\subseteq R$ such that 
\begin{itemize}
\item $1\in S, 0 \not \in S$
\item If $x,y \in S \Rightarrow xy \in S$
\end{itemize}

\begin{proposition}
Take an ideal maximal wrt not intersecting $S$. Then, it is prime.
\end{proposition}

\begin{proof}
Suppose $\m$ is the ideal in question. Next, suppose $\m$ is not prime which implies  $\exists a,b \in R \text{ such that } ab \in \m$ but $a,b \not \in \m$. Then, $\m + \langle a \rangle \supsetneq \m , \m + \langle b \rangle \supsetneq \m$. But, this means $(\m + \langle a \rangle) \cap S \neq \emptyset \Rightarrow m + ra \in S$ for some $m\in \m , r  \in R$. Similarly, $n + sb \in S$ for some $n \in \m , s \in R$. But, $S$ is multiplicative therefore $(m+ra)(n + sb) \in S \Rightarrow mn + ran + msb + rsab \in S \Rightarrow ((\langle ab \rangle + \m)= \m) \cap S \neq \emptyset$. This is a contradiction. Hence, we are done.  
\end{proof}

\begin{proposition}
Say $J$ is maximal wrt not being principal. Then, $J$ is prime.
\end{proposition}

\begin{proof}
Suppose $\m$ is the ideal in question. Next, suppose $\m$ is not prime which implies  $\exists a,b \in R \text{ such that } ab \in \m$ but $a,b \not \in \m$. Next, we can consider the ideal $I = \m + \langle a \rangle$. By maximality of $\m$, we have $I = \langle c \rangle$ for some $c\in R$. Now, consider $J = \{x \in R \mid xc \in \m\}$. Clearly, $I \subseteq J$. Notice that $c = m + ar$ for some $m \in \m , r \in R$. 
\begin{align*}
bc &= b(m+ar) \\
&= bm + (ba)r \\
\Rightarrow bc &\in \m \\
\Rightarrow b &\in J 
\end{align*} 
This means $b \in J \backslash \m$. Therefore $V$ is also principal and hence $V = \langle d \rangle$. Since $\m \in I$, therefore $m = cr$ for some $r\in R$. But this means that $r\in V \Rightarrow r = r'd$ for some $r' \in R$. Hence, $m = cd r' \in \langle cd \rangle \Rightarrow \m \subseteq \langle cd \rangle$. For the other direction, since $d\in V \Rightarrow cd \in U$. All of these tells us that $\m = \langle cd \rangle$ a contradiction to our assumption. Therefore, $\m$ must be prime. 
\end{proof}


\begin{proposition}
Say $J$ is maximal wrt not being finitely generated. Then, $J$ is prime.
\end{proposition}

\begin{proof}
Suppose $\m$ is the ideal in question. Next, suppose $\m$ is not prime which implies  $\exists a,b \in R \text{ such that } ab \in \m$ but $a,b \not \in \m$. \\

If we now look at $\m + \langle a \rangle$, by our assumption, this ideal is finitely generated by say $u_{1}, \hdots , u_{m}$. 
\end{proof}

\begin{exercise}
Suppose $J$ is maximal wrt not being generated by a cardinal number of generators. Then, $J$ is prime.
\end{exercise}

\begin{definition}
A topological space $X$ is said to be irreducible if it cannot be written as the union of proper closed subsets of $X$
\end{definition}

\section{Identify closed irreducible subsets of $\spec(R)$}

\begin{proposition}
The sets $\V(\pr)$ are exactly the irreducible components of $\spec(R)$.
\end{proposition}

\begin{lemma}
Let $I \subseteq R$ be a radical ideal. If $\V(I)$ is irreducible, then $I$ is prime.  
\end{lemma}

\begin{proof}
Suppose $I$ is not prime. Then there exists $a,b$ such that $ab \in I$ but $a\not \in I$ and $b \not \in I$. Consider a prime ideal $\pr$ that contains $I$, it will also contain $ab$ and thus $\pr$ contains either $a$ or $b$. This is summarised as $$\V(I) = (\V(I)\cap \V(a)) \cup (\V(I) \cap \V(b))$$ Thus $\V(I)$ is union of closed sets. It remains to be shown that the sets are proper in order to conclude that $\V(I)$ is not irreducible. Since $\V(I) \cap \V(a) = \V(I + \langle a \rangle)$ and $a \not \in I$ therefore $\V(I +\langle a \rangle)$ is a proper closed subset of $I$ and same for $b$. This is a contradiction to our hypothesis. So, we are done. 
\end{proof}

\begin{lemma}
$\V(\pr)$ is an irreducible closed subset for $\pr$ prime.
\end{lemma}

\begin{proof}
Suppose $\V(\pr) = V_{1} \cup V_{2}$ with $V_{1},V_{2}$ proper closed subsets of $V(\pr)$. Then there exists ideals $I,J$ such that $\V(\pr) = \V(I) \cup \V(J)$. Since $\pr \in \V(\pr)$ this implies $\pr \in \V(I)$ or $\pr \in \V(J)$. Suppose $\pr \in \V(I)$, then $I \subseteq \pr \Rightarrow \V(\pr) \subseteq \V(I) \Rightarrow \V(\pr) = \V(I)$. This is a contradiction to our assumption and hence we are done. $\V(\pr)$ is irreducible.
\end{proof}

\begin{proposition}
Every irreducible closed subset of $\spec(R)$ has an unique generic point.
\end{proposition}

\begin{proof}
Notice that any irreducible closed subset is of the form $\V(\pr)$. Now, $\V(\pr)$ is the closure of $\pr$. This is because $\mathrm{cl}(\pr)$ is a closed set and hence of the form $\V(I)$ for some ideal $I$. Moreover $\pr \supseteq I$. The biggest ideal $I$ such that $I \subseteq \pr$ is $\pr$ and this gives us what we want because $\V$ reverses inclusions. Therefore, $\mathrm{cl}(\pr) = \V(\pr)$. And, such a generic point is unique for suppose $\V(\pr) = \V(\mathfrak{q})$ then clearly $\pr \subseteq \frak{q}$ and $\frak{q} \subseteq \pr$. So, we are done. 
\end{proof}

To summarise, Zariski topology has the following properties: 
\begin{enumerate}
\item $\spec(R)$ is quasi-compact
\item $\spec(R)$ has a basis of quasi-compact opens which is closed under intersection.
\item Every irreducible closed subset has a generic point.
\end{enumerate}

\begin{theorem}[Hochster]
Any topological space with the $3$ properties is the spectrum of some commutative ring.
\end{theorem}



Suppose $X$ is spectral. Define a new space $X^{*}$ with open sets as finite union of quasi-compact open sets in $X$. This new space is called the Hochster dual.

\begin{theorem}
$X^{*}$ is also spectral.
\end{theorem} 

\begin{proof}

\end{proof}


\chapter{Lecture-4 (17th January, 2023): Noetherian spaces}

\section{Noetherian spaces}

First, let us try to remember all the equivalent definitions of a ring being Noetherian. 

\begin{proposition}
The following are equivalent:
\begin{enumerate}
\item Every ideal is finitely generated. 
\item Every ascending chain of ideals $$I_{1} \subseteq I_{2} \subseteq I_{3} \subseteq \cdots $$ stabilises. 
\item Every non-empty family of ideals has a maximal element. 
\end{enumerate}
\end{proposition}

Nowhere do we use Zorn's lemma, so in some sense, these properties are essentially about some "finite-ness" property. Thus, Noetherian means strong finiteness in some sense. 

\begin{definition}

\end{definition}

\begin{definition}

\end{definition}

\begin{theorem}
A module $M$ over $R$ is Noetherian iff the module is finitely generated and finitely presented. 
\end{theorem}

\begin{proof}

\end{proof}

\begin{proposition}
The direct sum of projective modules is projective. 
\end{proposition}

\begin{proposition}
The direct product of injective modules is injective.
\end{proposition}

A question we can ask is when is the direct sum of injective modules injective. 

\begin{proposition}
Direct sum of injective modules is injective iff the module is Noetherian.
\end{proposition}

\chapter{Lecture-5 (19th January 2023):}

Suppose $A$ is a commutative ring and $M$ an $A$-module. \\
Define $\mathrm{Sub}(M)=$ to be the set of all submodules of $M$. For any finite collection $m_{1}, \hdots , m_{k} \in M$, we next define 
\begin{align*}
\textbf{V}(m_{1}, \hdots , m_{k}) &= \text{ collection of submodules containing } m_{1}, \hdots , m_{k} \\
\textbf{D}( m_{1}, \hdots , m_{k}  ) &= \mathrm{Sub}(M) \backslash \textbf{V}(m_{1}, \hdots , m_{k}) 
\end{align*}
Using these $\textbf{D}(m_{1}, \hdots , m_{k})$'s as open sets (sub-basis of open sets), we generate a topology. 

\begin{proposition}[\href{https://arxiv.org/pdf/1605.03105.pdf}{read this here}]
The above mentioned topology is the same as Zariski topology OR the space is spectral.
\end{proposition}

\begin{remark}
The takeaway point being this is also another way to get a spectral space.
\end{remark}

\begin{exercise}
Suppose $X$ is spectral, $Y\subseteq X$ be a quasi-compact open subset. Then, $Y$ is spectral.
\end{exercise}

\section{Localisation}

\begin{definition}
A multiplicatively closed set $S$ is one that has the following properties:
\begin{enumerate}
\item $1 \in S, 0 \not \in S$.
\item $x,y \in S \Rightarrow xy \in S$.
\end{enumerate}
\end{definition}

\begin{example}
\begin{enumerate}
\item Invertible elements of a ring.
\item 
\end{enumerate}
\end{example}

\textcolor{Brown}{Objective}: We wish to construct a new ring in which each $s\in S$ is invertible. \\

If $S$ was the collection of invertible elements, then localisation is just $A$. \\

Our objective can be summed up as follows: 

\[\begin{tikzcd}
	A && B \\
	& R
	\arrow["\psi"', from=1-1, to=1-3]
	\arrow["\phi", from=1-1, to=2-2]
	\arrow["{\exists ! \pi}"', dashed, from=2-2, to=1-3]
\end{tikzcd}\]

\begin{enumerate}
\item $\phi(s)$ is invertible in $R$ for each $s\in S$
\item for any $\psi : A \rightarrow B$ such that each $\psi (s)$ is invertible, there is an unique map $\pi : R \rightarrow B$ that makes the diagram above commute.
\end{enumerate}

\begin{definition}
The localisation of $A$ with respect to $S$, denoted by $S^{-1}A$ is the set of equivalence classes $$\frac{a}{s} \;\;\;, a \in A , s \in S$$ with $$\frac{a}{s} \sim \frac{a'}{s'} \text{ if and only if } \exists \; t \in S \text{ such that } t (as' - sa')=0$$ 
\end{definition}

The ring addition and multiplication are the same as adding and multiplying fractions. Need to check it is well-defined!\\

Now, back to $$A_{f} = \{\text{ localisation of $A$ at }f\}$$ What we want to do is we essentially want to turn $f$ into an unit. Take $S$ to be all powers of $f$. Then, $S^{-1}A = A_{f}$. \\

This can also be realised as $$\frac{A[X]}{\langle fX-1 \rangle}$$

Now, the question is why are the two notions equivalent. 
\[\begin{tikzcd}
	A && B \\
	& {A_{f}}
	\arrow["\psi", from=1-1, to=1-3]
	\arrow["\phi"', from=1-1, to=2-2]
	\arrow["\pi"', dashed, from=2-2, to=1-3]
\end{tikzcd}\]

with $$\pi\left( \frac{a}{f^k} \right) = \frac{\psi (a)}{\psi (f)^k}$$

And, 

\[\begin{tikzcd}
	A && B \\
	& {\frac{A[X]}{\langle fX - 1 \rangle}}
	\arrow["\psi", from=1-1, to=1-3]
	\arrow["\phi"', from=1-1, to=2-2]
	\arrow["\pi"', dashed, from=2-2, to=1-3]
\end{tikzcd}\]

with $\pi(X) = \psi(f)^{-1}$ \\

\subsection{Prime ideals of $A_{f}$}

\begin{theorem}
The prime ideals of $A_{f}$ are precisely $D(f)$ the set of primes not containing $f$.
\end{theorem}

Consider $A_{S}$ and look at the ideals of $A_{S}$. They are precisely of the form $$\left \{ \frac{x}{s} \mid \;  x \in I \unlhd A, s  \in S \right\}$$

There is a bijection between $$\{ \text{ prime ideals of } A_{S} \} \leftrightarrow \{ \text{prime ideals of } A \text{ not intersecting S} \}$$

Say $\mathfrak{P}$ is a prime ideal of $A_{S}$. Then, $\mathfrak{P} = \frac{\pr}{s}$ with $\pr$ prime in $A$.


\chapter{Lecture-6 (24th January, 2023): Localisation of modules, exact sequences}

\section{Localisation contd..}

Suppose $M$ is an $A$-module. And $S\subseteq A$ be a multiplicative set. Then, the localisation $$M_{S} = \{\text{equivalence classes of all elements of the form } \frac{m}{s}\}$$ with $\frac{m}{s} \sim \frac{m'}{s'}$ if there exists $t\in S$ such that $t(s'm - m's)=0$. This can be made into a module by standard operations. 

\begin{lemma}
$M_{S}$ is an $A_{S}$-module.
\end{lemma}

\begin{proof}

\end{proof}

Some natural questions to ask are if $I \subseteq A$ is an ideal, whether 
\begin{align*}
\left( \frac{A}{I} \right)_{S} &\overset{?}{\cong} \frac{A_{S}}{I_{S}} \\
\text{More generally } \left( \frac{M}{M'} \right)_{S} &\overset{?}{\cong} \frac{M_{S}}{M_{S}'}
\end{align*}


We will need to introduce exact sequences to answer these questions.

\section{Exact sequences}
Suppose $$f: M \rightarrow N$$ Then, 
\begin{align*}
\ker(f) &= \{m \in M : f(m)=0\} \\
\coker &= N/\iM(f)
\end{align*}

This can be captured in the following diagram : 
\[\begin{tikzcd}
	{\mathrm{Ker}(f)} & M & N & {\mathrm{Coker}(f)} \\
	& P & Q
	\arrow["i", from=1-1, to=1-2]
	\arrow["\pi", from=1-3, to=1-4]
	\arrow["f", from=1-2, to=1-3]
	\arrow["g", tail reversed, no head, from=1-2, to=2-2]
	\arrow["{\exists \; !}", dashed, from=2-2, to=1-1]
	\arrow["h", from=1-3, to=2-3]
	\arrow[dashed, from=1-4, to=2-3]
\end{tikzcd}\]

Here, $$M/\ker(f) \cong \iM(f)$$ is equivalent to saying $\coker(i) = \ker(\pi)$. This leads to the definition
\begin{definition}
$$M' \xrightarrow{f} M \xrightarrow{g} M''$$ is exact at $M$ if $\iM(f) = \ker(g)$.
\end{definition}

\begin{lemma}
\begin{enumerate}
\item $$0 \rightarrow M' \xrightarrow{f} M$$ being exact means $f$ is injective.
\item $$M \xrightarrow{g} M'' \rightarrow 0$$ being exact means $g$ is surjective.
\end{enumerate}
\end{lemma}

\begin{proof}
\begin{enumerate}
\item $\ker f = \mathrm{Im}(0 \rightarrow M')$
\item $\mathrm{Im}(g) = \ker (M'' \rightarrow 0) = M$
\end{enumerate}
\end{proof}

\begin{definition}
A short exact sequence is a sequence of the form $$0 \rightarrow A \xrightarrow{f} B \xrightarrow{g} C \rightarrow 0$$ is exact everywhere.
\end{definition}

\begin{proposition}
If  $$0 \rightarrow M' \xrightarrow{f} M \xrightarrow{g} M'' \rightarrow 0$$ is exact, then $$0 \rightarrow M_{S}' \xrightarrow{f_{S}} M_{S} \xrightarrow{g_{S}} M_{S}'' \rightarrow 0$$ is exact
\end{proposition}

\begin{proof}
\textbf{Claim}: $\ker(f)_{S} = \ker(f_{S})$\\
$\subseteq $ is clear since $\frac{f(m)}{s} = 0$. Suppose $\frac{m}{s} \in \ker(f_{S}) \Rightarrow f(m)/s = 0 \in M_{S}$. This means that there is a $t\in S$ such that $tf(m)=0=f(tm)\Rightarrow tm \in \ker(f) \Rightarrow \frac{tm}{ts} = \frac{m}{s} \in \ker(f)_{S}$. This gives us $"\supseteq"$. \\

Similarly, $\mathrm{Coker}(f)_{S} = \mathrm{Coker}(f_{S})$. This completes the proof.
\end{proof}

Next, take $\pr \subseteq A$ be a prime ideal and $A\backslash \pr$ be the multiplicative set $S$. We denote $M_{S}$ by $M_{\pr}$.
\begin{itemize}
\item If $M=0$, then $M_{\pr} =0$ for all prime ideals $\pr$. This implies $M_{\m} =0$ for all maximal ideals $\m$.
\item If $M_{\m} =0 \; \forall \; \m \Rightarrow M=0$. Take an element $m \in M$ such that $\frac{m}{1}=0 \in M_{\m}$ for each maximal ideal $\m $ in $A$. Suppose $\mathrm{Ann}(m) \neq A$, then $\mathrm{Ann}(A) \subsetneq \m'$ for some maximal ideal $\m'$. But then we will have $sm=0$ for some $s\in A \bs \mathrm{Ann}(m)$ which is a contradiction. Hence, $\mathrm{Ann}(m)=A$ and $m=0$. This completes the claim.
\item If $M \xrightarrow{f} N$ is an isomorphism iff $M_{\m} \xrightarrow{f_{\m}} N_{\m}$ is an isomorphism for all maximal ideals $\m$.
\end{itemize}
We can summarise in the following theorems
\begin{theorem}
Let $M$ be an $A$-module and $m \in M$. Then TFAE:
\begin{enumerate}
\item $m=0$.
\item $\frac{m}{1}=0$ in $M_{\pr}$ for all prime ideals $\pr$ of $A$.
\item $\frac{m}{1}=0$ in $M_{\m}$ for all maximal ideals $\m$ of $A$. 
\end{enumerate}
\end{theorem}

\begin{theorem}
Let $M$ be an $A$-module. Then TFAE:
\begin{enumerate}
\item $M=0$.
\item $M_{\pr}=0$ for all prime ideals $\pr$ of $A$.
\item $M_{\m}=0$ for all maximal ideals $\m$ of $A$. 
\end{enumerate}
\end{theorem}

\begin{theorem}
Let $\phi: M \rightarrow N$ be an $R$-module homomorphism. Then, TFAE:
\begin{enumerate}
\item $\phi$ is injective. 
\item $\phi_{\pr}: M_{\pr} \rightarrow N_{\m}$ is injective for all prime ideals $\pr$.
\item $\phi_{\m} : M_{\m} \rightarrow N_{\m}$ is injective for all maximal ideals $\m$.
\end{enumerate} 
\end{theorem}

\begin{proof}
From the exactness of the sequence as per a proposition mentioned above we have $1 \Rightarrow 2, 1 \Rightarrow 3$. Moreover, $2 \Rightarrow 3$. We wish to show that $3 \Rightarrow 1$. Let $M' = \ker (\phi)$. Then we have the following exact sequence $$0 \rightarrow M' \rightarrow M \rightarrow N $$ By the proposition above, we have $$0 \rightarrow M'_{\m} \rightarrow M_{\m} \rightarrow N_{\m} $$ exact. This implies $M'_{\m} = \ker (\phi_{\m}) = 0$ since $\phi_{\m}$ is injective by hypothesis. Therefore, $M'_{\m} = 0$ for all maximal ideals $\m$. Now, the result follows from previous theorem.
\end{proof}

The same theorem can be repeated with injective replaced with surjective. This leads us thereby to the last conclusion in the points mentioned before these theorems.
\begin{definition}
Suppose $$M \xrightarrow{f} N$$ Then, $f$ is a monomorphism means 
\[\begin{tikzcd}
	T & M & N
	\arrow["f", from=1-2, to=1-3]
	\arrow["g", from=1-1, to=1-2]
	\arrow[from=1-1, to=1-2]
	\arrow["h"', shift right=2, from=1-1, to=1-2]
\end{tikzcd}\] such that $f\circ g = f\circ h \Rightarrow g=h$. \\

Epimorphism is the dual of this.
\end{definition}

\begin{remark}
For sets, these mean injection and surjection but monomorphism and epimorphism need not mean isomorphism in a random category. 
\end{remark}

\chapter{Lecture-7 (7th February, 2023): }









\chapter{Lecture-8 (9th February, 2023): }









\part{Algebraic Geometry I}

\chapter{Lecture-1 (9th January, 2023): Topological properties and Zariski Topology}
\section{Topological properties}

Consider a topological space $X$. 
\begin{definition}
\begin{enumerate}
\item We say $X$ is quasi-compact if every open cover of $X$ admits a finite subcover. 
\item If $f: X \rightarrow Y$ is continuous, we call $f$ quasi-compact if $f^{-1}(V)$ is quasi-compact for all quasi-compact open $V \subseteq Y$.
\end{enumerate}
\end{definition} 

\begin{exercise}
Composition of quasi-compact maps is quasi-compact.\\

Consider the two maps $f: X \rightarrow Y$ and $g: Y \rightarrow Z$. Next, look at the composition $g \circ f : X \rightarrow Z$. For all quasi-compact open $V \subseteq Z$, $(g \circ f)^{-1} (V) = f^{-1} \circ g^{-1} (V)$. Since $g$ is quasi-compact and continuous, $g^{-1}(V)$ is also quasi-compact and open. Similarly, $f$ is also quasi-compact and continuous, therefore $f^{-1}(g^{-1}(V))$ is also quasi-compact and we are done.
\end{exercise} 

\begin{lemma}
$X$ quasi-compact and $Y \subseteq X$ is closed implies $Y$ is quasi-compact.
\end{lemma}

\begin{proof}
Let $\{U_{i}\}_{i \in I}$ be an open cover of $Y$. Set $U = X - Y$. Since $U_{i}$ is open in $Y$, we have $U_{i} = Y \cap V_{i}$ where $V_{i}$ is open in $X$. Now we note that $\{V_{i}\}_{i \in I} \cup U$ covers $X$ but $X$ is quasi-compact and we obtain a finite subcover $\{V_{i}\}_{i \in J} \cup U$ where $J$ is finite. The corresponding $U_{i}, i \in J$ must therefore cover $Y$ and we are done.
\end{proof}

\begin{proposition}
If $X$ is quasi-compact and Hausdorff, then $E \subseteq X$ is quasi-compact iff $E$ is closed.
\end{proposition}

\begin{proof}
$\Leftarrow$ direction is done. \\
$\Rightarrow$ direction is what we need to prove. \\
Take $x\in X \backslash E$. For each $y \in E$, due to Hausdorff-ness we have two disjoint open sets $U_{y}$ and $U_{y}$ containing $x$ and $y$ respectively. Do this for all $y \in E$. The collection $\{U_{y}\}_{y \in E}$ covers $E$ but it is quasi-compact thus we get a finite subcover $\{U_{y_{i}}\}_{i \in I}$ with $I$ finite. Now, let $$U = \bigcap_{i \in I} U_{y_{i}}$$ $U$ is clearly open, contains $x$ and is disjoint from $E$. Since $x$ was chosen arbitrarily, $X\backslash E$ must be open. 
\end{proof}

\begin{lemma}
Any finite union of quasi-compact spaces is quasi-compact.
\end{lemma}

\begin{proof}
Suppose $X_{i}, i =1,2,\hdots ,n$ are the spaces in question. We want to show that $$X = \bigcup_{i=1}^n X_{i}$$ is also quasi-compact. Take any cover $\{U_{i}\}_{i \in I}$  be an open cover of $X$. Then for each $i=1,2, \hdots , n$ it is clear that $\{U_{i}\}_{i \in I}$ also covers $X_{i}$. Using quasi-compactness of $X_{i}$ we can get a finite subcollection $\{U_{i_{j}}: j =1 , \hdots , n_{i}\}$. This can be done for all $i$. Now, consider $\bigcup_{i=1}^{n} \bigcup_{j=1}^{n_{i}} U_{i_{j}}$. This union covers $X$ and is finite. So, we are done. 
\end{proof}

\begin{lemma}
Suppose $f: X \rightarrow Y$ is continuous, if $X$ is quasi-compact then so is $f(X)$.
\end{lemma}

\begin{proof}
Let $\{U_{i}\}_{i \in I}$ be an open cover of $f(X)$. Now, $\{f^{-1}(U_{i})\}_{i \in I}$ covers $X$ and by continuity, each of them are open. Use quasi-compactness of $X$ to get a finite subcover that covers $X$.
\begin{align*}
X &= \bigcup_{i=1}^n f^{-1}(U_{i}) \\
\because f(f^{-1}(U_{i})) &\subseteq U_{i} \\
\therefore f(X) &\subseteq \bigcup_{i=1}^n U_{i} 
\end{align*}
\end{proof}

Suppose $\Sigma$ is a poset. $\Sigma$ satisfies acc if every ascending chain $$x_{1} \le x_{2} \le \cdots $$ is stationary.

\begin{lemma}
The following are equivalent: 
\begin{enumerate}
\item $\Sigma$ satisfies acc. 
\item Every non-empty subset of $\Sigma$ has maximal element.
\end{enumerate}
\end{lemma}

\begin{proof}
$1 \Rightarrow 2$. Suppose $S \subseteq \Sigma$ has no maximal element. \\
Then choose $x_{0} \in S$ non-maximal, then we can find a $x_{1}$ such that $x_{0} \lneq x_{1}$. By induction we can construct an infinite chain $x_{0} \lneq x_{1} \lneq \cdots \neq x_{i} \lneq \cdots$ which does not terminate which is a contradiction to our hypothesis. Thus, $S$ must have a maximal element.\\
$2 \Rightarrow 1$. Suppose $x_{1} \le x_{2} \le \cdots \le x_{i} \le $ is an infinite ascending chain, then $S = \{x_{i}\mid i \geq 1\}$ has no maximal element. 
\end{proof}

\begin{definition}
A topological space is called Noetherian if set of all closed subsets of $X$ satisfies dcc.
\end{definition}

\begin{lemma}
$X$ Noetherian implies $X$ is quasi-compact.
\end{lemma}

\begin{proof}
Let $\mathcal{U}=\{U_{i}\}_{i \in I}$ be an open cover of $X$ that does not have a finite subcover. Consider the collection $\mathcal{F}$ of union of finite number of elements of $\mathcal{U}$. Since being Noetherian is equivalent to saying any finite subset of open subsets has a maximal element, we know that $\mathcal{F}$ has a maximal element. Suppose that maximal element is $U_{i_{1}} \cup \hdots \cup U_{i_{n}}$. If this does not cover $X$, take an element $x$ in the complement of the maximal element. Since $\mathcal{U}$ covers $X$, there is an $i \in I$ such that $x \in U_{i}$. Notice that now $U_{i_{1}} \cup \hdots \cup U_{i_{n}} \subseteq U_{i_{1}} \cup \hdots \cup U_{i_{n}} \cup U_{i}$ which contradicts the maximality. Thus, we are done.  
\end{proof}

\begin{remark}
The converse need not be true. Consider $[0,1]$ covered by $[1/2^n , 1]$.
\end{remark}

\begin{lemma}
If $X_{1}, \hdots , X_{n}$ are Noetherian subspaces of $X$, then so is $X=X_{1} \cup X_{2} \cup \hdots \cup X_{n}$
\end{lemma}

\begin{proof}
Let $Y_{i}$s be closed in $X$ that forms the chain $$X \supseteq Y_{1} \supseteq Y_{2} \supseteq Y_{3} \supseteq \cdots $$ For each $i$, we get a chain of closed sets in $X_{i}$ by intersecting with $X_{i}$. This gives us $$X_{i} \supseteq Y_{1}\cap X_{i} \supseteq Y_{2}\cap X_{i} \supseteq Y_{3}\cap X_{i} \supseteq \cdots $$ Since $X_{i}$ is Noetherian, this chain terminates at say $r_{i}$. Now, take $r = \max_{i} r_{i}$. The original chain will terminate after this point. Suppose $y \in Y_{i}$ with $i \le r$, there is an $j$ such that $y \in X_{j}$. This means $y \in X_{j} \cap Y_{i} = X_{j} \cap Y_{r}$. Hence, $y \in Y_{r}$ and we are done.
\end{proof}

\begin{definition}
Locally Noetherian means every point $x\in X$ has a neighbourhood $U$ which is Noetherian wrt subspace topology.
\end{definition}

\begin{lemma}
Quasi-compact and locally Noetherian implies Noetherian.
\end{lemma}

\begin{proof}
Since $X$ is locally Noetherian, for each $x\in X$ we have a nbd. $U_{x}$ that is Noetherian. $\{U_{x}\}_{x \in X}$ is an open cover of $X$. Quasi-compactness gives us a finite subcover $\{U_{x_{i}}\}_{i=1}^n$, i.e., $$X = \bigcup_{i=1}^n U_{x_{i}}$$ $X$ is Noetherian from previous lemma.
\end{proof}

\begin{exercise}
Give an example of a ring $R$ such that $\spec(R)$ is Noetherian but $R$ is not. \\

Consider the ring $R=k[X_{1}, X_{2}, \hdots , ]$ and the ideal $I = \langle X_{1}^2 , X_{2}^2 , \hdots , \rangle$. Now, look at $R'=R/I$. $\spec(R')$ is a singleton. 
\end{exercise}

\begin{definition}
A topological space $X$ is called irreducible if it cannot be written as finite union of proper closed subsets. \\

A closed subset $Y \subseteq X$ is called irreducible component of $X$ if it is a maximal irreducible closed subset of $X$.
\end{definition}

\begin{lemma}
If $X$ is Noetherian and $Y \subseteq X$ is a subspace, then $Y$ is Noetherian. 
\end{lemma}

\begin{proof}
Let $Y_{i}$s be closed in $Y$ that forms the chain $$Y \supseteq Y_{1} \supseteq Y_{2} \supseteq Y_{3} \supseteq \cdots $$ For each $i$, we have a closed set in $X$ such that $Y_{i} = Y \cap X_{i}$. This gives us $$Y \supseteq X_{1}\cap Y \supseteq X_{2}\cap Y \supseteq X_{3}\cap Y \supseteq \cdots $$
\end{proof}

\begin{lemma}
Let $X$ be Noetherian. Then, $X$ has finitely many irreducible components. 
\end{lemma}

\begin{proof}
More generally, we will show that every closed subset for $X$ has finitely many irreducible components. \\

Suppose that this is false. Let $\Sigma$ be the collection of closed subsets of $X$ that does not satisfy our condition. Order this as follows: $A \le B$ if $A \supseteq B$. If $\{C_{i}\}$ is a chain in $\Sigma$, then it must eventually stabilise since $X$ is Noetherian. This $C_{\alpha}$ is an upper bound for this chain. Therefore, by Zorn's lemma, there is a maximal element $Y$. Since $Y \in \Sigma$, therefore it is not irreducible. Suppose $Y = Y_{1} \cup Y_{2}$ with $Y_{1},Y_{2}$ proper closed subsets of $Y$. $Y \le Y_{1}, Y \le Y_{2}$. Since $Y \in \Sigma$, $Y$ is not a finite union of irreducible components. Hence, either $Y_{1}$ or $Y_{2}$ is not irreducible. If $Y_{1}$ is not irreducible but $Y_{1} \in \Sigma$, since $Y$ is maximal in $\Sigma$ and $Y \le Y_{1}$, therefore $Y =Y_{1}$ a contradiction that $Y_{1}$ is a proper subset of $Y$. Thus, $\Sigma$ must be empty and the claim is proven. 
\end{proof}

\begin{lemma}
$X$ is Noetherian implies there exists an unique expression $X = X_{1} \cup \cdots \cup X_{n}$ where $X_{i}'s$ are irreducible components of $X$.
\end{lemma}

\begin{proof}
Suppose $$X = X_{1} \cup \cdots \cup X_{n} = X_{1}' \cup \cdots \cup X_{m}'$$ Clearly $X_{1}' \subseteq X$, this means $X_{1}' = \bigcup_{i=1}^n X_{1}' \cap X_{i}$. Since $X_{1}'$ is irreducible, there must be a $i_{1}$ such that $X_{1}' = X_{i_{1}} \cap X_{1}'$. Thus, $X_{1}' \subseteq X_{i_{1}}$. We can choose $i_{1}$ to be $1$ to get $X_{1}' \subseteq X_{1}$. Similarly, $X_{1} \subseteq X_{j_{1}}'$. Since $X_{1}' \subseteq X_{j_{1}}'$ and our assumption that $X_{i} \not \in X_{j}$ for $i \neq j$ we conclude that $j_{1}=1$. Finally, we conclude that $X_{1}=X_{1}'$. Let $Z$ be the closure of $X - X_{1}$, then $Z = X_{2} \cup \cdots \cup X_{n} = X_{2}' \cup \cdots \cup X_{m}' $. We can argue inductively and conclude that $X_{i} = X_{i}'$ and $n=m$. 
\end{proof}

\begin{lemma}
Suppose $X$ is Noetherian and $X_{1} \subseteq X$ an irreducible component. Then, $X_{1}$ contains a non-empty open set in $X$.
\end{lemma}

\begin{proof}
Consider $U = X \backslash X_{2} \cup \cdots \cup X_{n}$. Clearly, $U$ is non-empty and open. Moreover, $U \subseteq X_{1}$ and we are done. 
\end{proof}

\begin{definition}
Let $X$ be a topological space. We say that $X$ is a spectral space if the following holds: 
\begin{enumerate}
\item $X$ is quasi-compact.
\item $X$ is $T_{0}$.
\item $X$ has a basis of quasi-compact open sets.
\item Every irreducible closed subset of $X$ has a generic point ($\exists x \in Y$ such that $\overline{\{x\}}  = X$)
\end{enumerate}
\end{definition}

\section{Zariski Topology}
Let $A$ be a commutative ring with identity and $X = \spec(A)$. \\

Zariski topology is the unique topology such that a subset $Y\subseteq X$ is closed iff $Y = \V (I)$ for some ideal $I \unlhd A$. Here, $$\V(I) = \{\pr \in X \mid \pr \supseteq I\}$$

\begin{theorem}
$\spec(A)$ is always spectral.
\end{theorem}

\begin{proof}
\begin{enumerate}
\item $X$ is $T_{0}$ \\
For all $f \neq 0$ in $A$,  let $A_{f} = S^{-1}A$ be the localisation of $A$ at $f$ where $A_{f} = \{f^n \mid n \geq 0\}$. Next, let $V_{f} = X \backslash V(f) = \spec (A_{f})$. This forms a basis for the Zariski topology. \\
Now, let $\pr, \mathfrak{P}$ be two distinct primes. 
\begin{itemize}
\item Suppose $\pr \not \subseteq \mathfrak{P}$. \\
$Y = V(\pr)$ is closed set and $\mathfrak{P} \not \in V(\pr)$. Take $Y^c$. Then $\mathfrak{P} \in Y^c$ and $\pr \not \in Y^c$. 
\item If $\pr \subseteq \mathfrak{P}$ \\
Then consider $\V(\mathfrak{P})$. Clearly, $\pr \not \in \V(\mathfrak{P})$. Take $U = \V(\mathfrak{P})^c$, then $\pr \in U$ but $\mathfrak{P} \not\in U$. 
\end{itemize}
\item $X$ is quasi-compact. \\
Let $\{U_{i}\}$ be an open cover of $X$. WLOG, we can assume that $U_{i} = \spec(A_{f_{i}}), f \neq 0$. Let $I$ be the ideal generated by these $f_{i}s$. \\
\textbf{Case-1}: Suppose that $I \neq A$. Then there exists a maximal ideal $\m \supseteq I \Rightarrow \V(\m) \subseteq \V(I) \Rightarrow X \backslash \V(\m) \supseteq X\backslash \V(I) = X \backslash \bigcap_{i \in I}\V(f_{i}) = \bigcup U_{i} = X$ which is absurd. Hence, we conclude that $I=A$. Next, 
\begin{align*}
1 &= \sum_{i=1}^n a_{i}f_{i} &\text{ for some } a_{i} \in A \\
\Rightarrow \bigcup_{i=1}^n U_{i} &= \bigcup_{i=1}^n X \backslash \V(f_{i})
\end{align*}
And, we get the required refinement. 
\item $X$ has a basis of quasi-compact open sets follows from the above.
\item Let $Y \subseteq X$ be an irreducible closed subset. Then, $Y = \spec(A/I)$. WLOG, we can assume $X$ is irreducible. Next, observe that $\spec(A) = \spec(A_{\mathrm{red}}) = \spec(A/ \nil(A))$. Since $A$ is irreducible and reduced, we conclude that $A$ is an integral domain. We are now done since $0$ is a generic point in that case.
\end{enumerate}
\end{proof}

\chapter{Lecture-2 (11th January, 2023): Zariski topology and affine schemes}

\section{Zariski topology contd..}

\begin{theorem}[Hochster]
Every spectral space is homeomorphic to $\spec(A)$ for some commutative ring $A$.
\end{theorem}

\textbf{Notation:} $\mathrm{\textbf{Ring}}$ be the category of commutative rings, $\mathrm{\textbf{Top}}$ be the category of topological spaces.

\begin{theorem}
There is a contravariant functor 
\begin{align*}
sp: \mathrm{\textbf{Ring}} &\rightarrow \mathrm{\textbf{Top}} \\
\spec(B) &\mapsto \spec(A)
\end{align*}
\end{theorem}

\begin{proof}
Consider $f: A \rightarrow B$. This induces a map $$f_{\#} : \spec(B) \rightarrow \spec(A)$$ such that $f_{\#}(\pr) = f^{-1}(\pr)$. \\
\textbf{Well-defined:} Suppose $xy \in f^{-1}(\pr) \Rightarrow f(xy) = f(x)f(y) \in \pr \Rightarrow$ either $x$ or $y$ lies in $f^{-1}(\pr)$ which completes our check. \\
We claim that $f_{\#}$ is continuous. This can be seen as follows: \\
Take a basic open set $D(a), a\in A$. Enough to show for these sets since $D(a)$ forms a basis for the topology on $\spec(A)$. Now, $$\pr \in f_{\#}^{-1}(D(a))\Leftrightarrow f_{\#}(\pr) \in D(a) \Leftrightarrow a \not \in f^{-1}(\pr)$$ But this means $$a \not \in f^{-1}(\pr) \Leftrightarrow f(a) \not \in \pr \Leftrightarrow \pr \in D(f(a))$$
\end{proof}

\section{Affine schemes}

\begin{definition}
$\spec(A)$ will be called an affine "scheme" (we will see this properly later on).
\end{definition}

\begin{definition}
Let $X= \spec(A), Y = \spec(B)$. Let $f: Y \rightarrow X$ be a continuous map. We call such a map $f$ regular (holomorphic) if there is a ring homomorphism $g: A \rightarrow B$ such that $f = g_{\#}$
\end{definition}

\begin{example}
Take $\spec(\ZZ)$ and consider the constant map. This cannot be regular because any ring homomorphism must take $1$ to $1$ and as a consequence fixes every element. 
\end{example}

\begin{proposition}
If $X = \spec(A)$. A regular function on $X$ is a regular map from $X$ to $\spec(\ZZ[t])$.
\end{proposition}

\begin{proof}

\end{proof}

\begin{remark}
On an affine scheme, the set of all regular maps is the ring $A$ itself since, the map $\ZZ[t] \rightarrow A$ is determined by where $t$ is sent to. 
\end{remark}

\begin{lemma}
Every affine scheme has a closed point.
\end{lemma}

\begin{proof}
Every commutative ring has a maximal ideal. 
\end{proof}

\begin{definition}
Open in affine is called quasi-affine.
\end{definition}

\begin{example}
Take $A$ a local integral domain with $\m$ the maximal ideal. Suppose that all prime ideals of $A$ are of the form $$\langle 0 \rangle \subset \pr_{1} \subset \pr_{2} \subset \cdots \subset \{ \m \}$$ Consider $X = \spec(A) \backslash \m$. $X$ is open in affine scheme but has no closed point. \\

An example of such a ring is $$\Gamma = \ZZ x_{1} \oplus \ZZ x_{2} \oplus \cdots $$ Give an ordering: $\sum a_{i}x_{i} \geq 0$ if the first nonzero term is $>0$ or all $a_{i}=0$\\
$\Gamma$ is a totally ordered abelian group and hence there exists a valuation ring $A$ with value group $\Gamma$ and the prime ideals of $\Gamma$ are in $1-1$ correspondence with prime ideals of $A$.
\end{example}

\begin{exercise}
Let $A = k[X_{1}, X_{2}, \hdots ], B= A_{\m}, X = \spec(B) \backslash \m , \m = \langle X_{1}, X_{2}, \hdots , \rangle$. Claim is that $X$ has no closed point.
\end{exercise}

\subsection{Fiber products of affine schemes}

Suppose $A$ is a commutative ring, $B,C$ are $A$-algebras. Let $X= \spec(A), Y = \spec(B), Z = \spec(C)$. Next, suppose we have 
\[\begin{tikzcd}
	A & B \\
	C
	\arrow["f", from=1-1, to=1-2]
	\arrow["g"', from=1-1, to=2-1]
\end{tikzcd}\]

\textbf{Universal property of fiber products}:
\[\begin{tikzcd}
	{W'} \\
	& Y \times_{X} Z & Z \\
	& Y & X
	\arrow["{f_{\#}}"', from=3-2, to=3-3]
	\arrow["{g_{\#}}", from=2-3, to=3-3]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-2, to=3-2]
	\arrow[curve={height=12pt}, from=1-1, to=3-2]
	\arrow[curve={height=-12pt}, from=1-1, to=2-3]
	\arrow["{\exists \; ! }", dashed, from=1-1, to=2-2]
\end{tikzcd}\]

\begin{definition}
If a $W$ exists such that the universal property is satisfied, then $W$ is called the fiber product of $Y,Z$ over $X$ and we write $W = Y \times_{X} Z$
\end{definition}

\begin{theorem}
$\mathrm{\textbf{Aff}_{\ZZ}}=$ category of affine schemes admits fiber products.
\end{theorem}

\begin{proof}
Consider the following data: 
\[\begin{tikzcd}
	A & B \\
	C
	\arrow["f", from=1-1, to=1-2]
	\arrow["g"', from=1-1, to=2-1]
\end{tikzcd}\]

Let $D = B \otimes_{A} C$. We have the natural maps $f_{1}: B \rightarrow  B \otimes_{A} C$ sending $b \mapsto b \otimes 1$ and $f_{2}: C \rightarrow B \otimes_{A} C$ sending $c \mapsto 1 \otimes c$. Both are ring homomorphisms and fit into the following diagram due to the nature of tensor product 
 \[\begin{tikzcd}
	A & B \\
	C & {B\otimes_{A} C}
	\arrow["f", from=1-1, to=1-2]
	\arrow["g"', from=1-1, to=2-1]
	\arrow["{f_{1}}", from=1-2, to=2-2]
	\arrow["{g_{1}}"', from=2-1, to=2-2]
\end{tikzcd}\]

Now, let $W = \spec(B \otimes_{A} C)$ and we claim that this satisfies the universal property of fibre product. Apply $\spec(-)$ functor to the diagram to get 
\[\begin{tikzcd}
	A & B \\
	C & {\mathrm{Spec}(B\otimes_{A} C)}
	\arrow["{g_{1\#}}"', tail reversed, no head, from=2-1, to=2-2]
	\arrow["{f_{1\#}}"', from=2-2, to=1-2]
	\arrow["{f_{\#}}"', from=1-2, to=1-1]
	\arrow["{g_{\#}}", from=2-1, to=1-1]
\end{tikzcd}\]

From the universal property of tensor product we have the following diagram

\[\begin{tikzcd}
	A & B \\
	C & {B \otimes_{A}C} \\
	&& U
	\arrow["f", from=1-1, to=1-2]
	\arrow["g"', from=1-1, to=2-1]
	\arrow["{f_{1}}", from=1-2, to=2-2]
	\arrow["{g_{1}}"', from=2-1, to=2-2]
	\arrow[curve={height=18pt}, from=2-1, to=3-3]
	\arrow[curve={height=-18pt}, from=1-2, to=3-3]
	\arrow["{\exists \; ! }",dashed, from=2-2, to=3-3]
\end{tikzcd}\]

Again, apply the $\spec(-)$ functor. 

\[\begin{tikzcd}
	X & Y \\
	Z & {\mathrm{Spec}(B\otimes_{A} C)} \\
	&& {\mathrm{Spec}(U)}
	\arrow["{g_{1\#}}"', tail reversed, no head, from=2-1, to=2-2]
	\arrow["{f_{1\#}}"', from=2-2, to=1-2]
	\arrow["{f_{\#}}"', from=1-2, to=1-1]
	\arrow["{g_{\#}}", from=2-1, to=1-1]
	\arrow[curve={height=-24pt}, from=3-3, to=2-1]
	\arrow[curve={height=18pt}, from=3-3, to=1-2]
	\arrow["{\exists \; ! }",dashed, from=3-3, to=2-2]
\end{tikzcd}\]

This completes the proof.
\end{proof}

\chapter{Lecture-3 (16th January, 2023): Category theory brushup}

Suppose we have a ring homomorphism $f : A \rightarrow B$ and $X = \spec(A), Y = \spec(B)$. This induces a map $f_{\#}: Y\rightarrow X$. From, the previous discussion, there is a fiber product $Y \times_{X} Y$ such that the following diagram makes sense

\[\begin{tikzcd}
	X & Y \\
	Y & Y \times_{X} Y \\
	&& Y
	\arrow["{p_{1}}"', tail reversed, no head, from=2-1, to=2-2]
	\arrow["{p_{2}}"', from=2-2, to=1-2]
	\arrow["{f_{\#}}"', from=1-2, to=1-1]
	\arrow["{f_{\#}}", from=2-1, to=1-1]
	\arrow[curve={height=-24pt}, from=3-3, to=2-1]
	\arrow[curve={height=18pt}, from=3-3, to=1-2]
	\arrow["{\exists \; ! \; \Delta_{Y} }",dashed, from=3-3, to=2-2]
\end{tikzcd}\]

Here, $p_{1} \circ \Delta_{Y} = p_{2} \circ \Delta_{Y} = \mathrm{id}$ where $$\Delta_{Y} : Y \rightarrow Y\times_{X} Y$$ is called the relative diagonal of $Y/X$. 

\begin{definition}
Say $X_{1},X_{2}$ are affine schemes. $X_{1} \rightarrow X_{2}$ is a closed immersion iff $A_{1} \rightarrow A_{2}$ is a surjective. Here, $\spec(A_{i}) = X_{i}, i =1,2$. 
\end{definition}

\begin{lemma}
$\Delta_{Y}$ is a closed immersion.
\end{lemma}

\begin{proof}
$B \otimes_{B} B \rightarrow B$ is a surjection. 
\end{proof}

\begin{example}
Take $A = \ZZ, B = \ZZ[t]/ \langle t^n \rangle$ for some $n \geq 2$. There is a canonical inclusion $f: A \rightarrow B$. This induces a map $Y = \spec(B) \rightarrow X = \spec(A)$ which is an identity map in terms of sets. Thus, it is a closed inclusion but not a closed immersion.  
\end{example}

\begin{remark}
We know that diagonal is closed iff the space is Hausdorff. This seems to contradict our assumptions! But we are fine because this claim is true only when the topology is the product topology. Here, the topology we have is not the product topology. 
\end{remark}

\begin{definition}
A regular map $f: X \rightarrow Y$ is called separated morphism if the relative diagonal of $Y$ over $X$ is closed in $Y \times_{X} Y$.
\end{definition}

\begin{lemma}
Let $X = \spec(A)$. Suppose $U_{1},U_{2}$ are two open affine subsets of $X$. Then, $U_{1}\cap U_{2}$ is also affine.
\end{lemma}

\begin{proof}
We have two natural injections $$U_{1} \xhookrightarrow{j_{1}} X , U_{2} \xhookrightarrow{j_{2}} X$$ then we naturally have the following $$U_{1} \times_{Z} U_{2} \xrightarrow{j_{1} \times j_{2}} X \times_{Z} X $$ where $Z = \spec(\ZZ)$ (if it is blank, just assume $Z$ by default). \\
From previous discussion we get 
\[\begin{tikzcd}
	{U_{1}\times_{Z}U_{2}} & {} & {X\times_{Z}X} \\
	{} && {} \\
	&& X
	\arrow["{j_{1}\times j_{2}}", from=1-1, to=1-3]
	\arrow["{\Delta_{X}}"', from=3-3, to=1-3]
\end{tikzcd}\]
Since each term is affine, we can take the fiber product of $U_{1}\times_{Z}U_{2}$ and $X$. Say the fiber product is $W$.
\[\begin{tikzcd}
	& {U_{2}} && X \\
	{U_{1}} & {U_{1}\times_{Z}U_{2}} & {} & {X\times_{Z}X} & X \\
	& {} & \square & {} \\
	& W && X
	\arrow["{\Delta_{X}}"', from=4-4, to=2-4]
	\arrow["{j_{1}\times j_{2}}", from=2-2, to=2-4]
	\arrow["{\Delta'}", from=4-2, to=2-2]
	\arrow["j"', from=4-2, to=4-4]
	\arrow["{p_{1}}"', from=2-4, to=1-4]
	\arrow["{p_{2}}"', from=2-4, to=2-5]
	\arrow["{q_{2}}"', from=2-2, to=2-1]
	\arrow["{q_{1}}"', from=2-2, to=1-2]
\end{tikzcd}\]

Then, we claim that \\

\textbf{Claim}: $W = U_{1} \cap U_{2}$

\begin{proof}
Suppose $x\in W$, then 
\end{proof}

It now remains to show that $W$ is affine but it is clear from the definition of fiber products.

\end{proof}

\begin{remark}
If $\Delta_{X}$ is a closed immersion then so is $\Delta '$. That is, closed immersions are preserved under fiber products. Follows from right exactness of tensor product. 
\end{remark}

Now, that we have discussed intersection, we naturally ask : What happens to $U_{1} \cup U_{2}$. Is it still affine ? \\

The answer turns out to be NO. To see this,

\begin{example}[NON-example]
Consider $k$ be an algebraically closed field. $A  = k [t_{1},t_{2}]$ and $X =\spec(A)$. Let $U_{i}  = \{x \mid t_{i}(x) \neq 0\} = X \backslash \V(t_{i})$. Clearly, $U_{i}$ is open and affine ($ = \spec(A_{t_{i}})$). But $U_{1} \cup U_{2} $ is not affine. 
\[\begin{tikzcd}
	&& {} \\
	&& {} \\
	{} & {} && {} & {t_{2}=0} \\
	\\
	&& {t_{1}=0} \\
	&& {}
	\arrow[tail reversed, from=1-3, to=5-3]
	\arrow[tail reversed, from=3-5, to=3-1]
\end{tikzcd}\]
$U_{1}$ is complement of the horizontal axis and $U_{2}$ of the vertical axis. But $U_{1}\cup U_{2}$ is the complement of origin. The question is asking if the complement of origin is affine or not. A highly NON-TRIVIAL question to answer.
\end{example}

\begin{exercise}[not trivial but do think about it]
Suppose $X = \spec(A)$ and $U \hookrightarrow X$ is affine open. Does this imply $U = \spec(S^{-1}A)$ for some multiplicatively closed set $S \subseteq A$?
\end{exercise}

\begin{definition}
Suppose $S = \spec(A)$ and $x\in X$. Let $K(A) = S^{-1}(A)$ where $S$ is the set of all nonzero divisors in $A$. Here, we have $A \hookrightarrow S^{-1}(A)=$ the ring of all meromorphic functions on $X$. Then, $$\mathcal{O}_{X,x} = \{f \in K(A) \mid f \text{ is regular in a nbd of } x \}$$ is called the germ of regular function. 
\end{definition}

\begin{lemma}
$$\mathcal{O}_{X,x} = A_{\pr}$$ where $\pr =x$.
\end{lemma}

\begin{proof}
Suppose $f$ is regular in a nbd of $\pr$ iff there exists $b \not \in \pr $ such that $f \not \in \V(b)$. But this means $f \not \in A_{b}$ which in turn implies $f \in \bigcup_{b \not \in \pr} A_{b} = A_{\pr}$.
\end{proof}

\begin{definition}
The germs of analytic functions at $x$ is the completion of $\mathcal{O}_{X,x}$, denoted by $\mathcal{O}_{X,x}^{\wedge}$ with respect to its maximal ideal. 
\end{definition}

\begin{remark}
We have the natural map $\mathcal{O}_{X,x} \rightarrow \mathcal{O}_{X,x}^{\wedge}$ but if $\mathcal{O}_{X,x}$ is Noetherian then this map is also injective. 
\end{remark}

\section{Categories and functors}

A category $\mathcal{C}$ consists of a collection $\mathrm{ob}(\mathcal{C})$ and for all $X,Y \in \mathrm{ob}(\mathcal{C})$, there is a set $\mathrm{Hom}_{\mathcal{C}}(X,Y)$ and a map $$\mathrm{Hom}_{\mathcal{C}}(X,Y) \times \mathrm{Hom}_{\mathcal{C}}(Y,Z) \rightarrow \mathrm{Hom}_{\mathcal{C}}(X,Z)$$ satisfying 
\begin{enumerate}
\item $\forall \; X \in \mathrm{ob}(\mathcal{C}) \; \exists \; 1_{X} \in \mathrm{Hom}_{\mathcal{C}}(X,Y)$ such that $f \circ 1_{X} = 1_{X} \circ f = f$
\item $f \circ (g \circ h) = (f \circ g)\circ h$
\end{enumerate}

A functor (contravariant) $\mathcal{F}: \mathcal{C}_{1} \rightarrow \mathcal{C}_{2}$ is a function $\mathcal{F}: \mathrm{ob}(\mathcal{C}_{1}) \rightarrow \mathrm{ob}(\mathcal{C}_{2})$ and a map of sets $\mathcal{F}: \mathrm{Hom}_{\mathcal{C}_{1}}(X,Y)\rightarrow \mathrm{Hom}_{\mathcal{C}_{2}}(\mathcal{F}(X),\mathcal{F}(Y))$ such that 
\begin{enumerate}
\item $f(1_{X}) = 1_{\mathcal{F}(X)}$
\item $\mathcal{F}(f \circ g) = \mathcal{F}(f) \circ \mathcal{F}(g)$
\end{enumerate}

To each category $\mathcal{C}$, we associate a category $\mathcal{C}^{\mathrm{op}}$ such that $$\mathrm{ob}(\mathcal{C}) = \mathrm{ob}(\mathcal{C}^{\mathrm{op}})$$ and $$\mathrm{Hom}_{\mathcal{C}^{\mathrm{op}}}(X,Y) = \mathrm{Hom}_{\mathcal{C}}(Y,X)$$

Suppose $\mathcal{F},\mathcal{F}' : \mathcal{C} \rightarrow \mathcal{C}'$ be two functors. Then, a natural transformation is $T: \mathcal{F} \rightarrow \mathcal{F}'$ consisting of the following data: 
\begin{enumerate}
\item $\forall \; X \in \mathcal{C} , \exists \; T_{X} : \mathcal{F}(X) \rightarrow \mathcal{F}'(X)$ ,i.e., $T_{X} \in \mathrm{Hom}_{\mathcal{C}'}(\mathcal{F}(X),\mathcal{F}' (X))$ such that for all $f: X \rightarrow Y$, the diagram commutes\[\begin{tikzcd}
	{\mathcal{F}(X)} & {} & {\mathcal{F}'(X)} \\
	{} & \circlearrowright & {} \\
	{\mathcal{F}(Y)} && {\mathcal{F}'(Y)}
	\arrow["{T_{X}}", from=1-1, to=1-3]
	\arrow["{\mathcal{F}(f)}"', from=1-1, to=3-1]
	\arrow["{\mathcal{F}'(f)}", from=1-3, to=3-3]
	\arrow["{T_{Y}}"', from=3-1, to=3-3]
\end{tikzcd}\]
\end{enumerate}

Given, $\mathcal{C}, \mathcal{C}'$ then $F(\mathcal{C}, \mathcal{C}')=$ all functors from $\mathcal{C}$ to $\mathcal{C}'$ is a category and $\mathrm{Hom}_{F(\mathcal{C}, \mathcal{C}')}(F_{1},F_{2})=$ all natural transformations from $F_{1}$ to $F_{2}$ 



\chapter{Lecture-4 (20th January, 2023): Category theory}


\section{Category theory contd..}
\subsection{Equivalence of categories}

Two categories $\mathcal{C},\mathcal{C}'$ are equivalent if there exists functors $$\mathcal{F}: \mathcal{C} \rightarrow \mathcal{C}'  \text{ and } \mathcal{G}: \mathcal{C}' \rightarrow \mathcal{C}$$ and natural transformations $$T : \mathrm{id}_{\mathcal{C}} \rightarrow \mathcal{G} \circ \mathcal{F} \text{ and } T' : \mathrm{id}_{\mathcal{C}'} \rightarrow \mathcal{F} \circ \mathcal{G}$$ which are isomorphisms.

\begin{example}
\begin{enumerate}
\item The category of categories with all morphisms being identity is equivalent to the category of sets.
\item The category 
\item Consider the category of $A$-modules and let $B = M_{n}(A)$. We claim that $\mathrm{\textbf{Mod}_{A}}$ and $\mathrm{\textbf{Mod}_{B}}$ are equivalent. This is also known as Morita equivalence.
\end{enumerate}
\end{example}

\subsection{Products and Co-products}


In partially ordered sets, neither product nor co-product might exist. \\

\section{Pre-sheaves and Yoneda lemma}

Suppose $\mathcal{C}$ is a category. Then a presheaf on $\mathcal{C}$ is a contravariant functor $$\mathcal{F} : \mathcal{C} \rightarrow \mathbf{Sets} ( \text{ or }\mathbf{Ab})$$
The category of presheaves on $\mathcal{C}$ is denoted by $\mathbf{Presh(\mathcal{C})}$\\

Suppose $X \in \mathrm{ob}(\mathcal{C})$. Then we can construct $h_{X} \in \mathbf{Presh}(\mathcal{C})$ such that $h_{X}(Y) = \mathrm{Hom}_{\mathcal{C}}(Y,X)$. Hence, we have a functor $$h : \mathcal{C} \rightarrow \mathbf{Presh}(\mathcal{C})$$ that sends $X \mapsto h_{X}$. This $h$ is called the Yoneda functor. 

\begin{lemma}[Yoneda Lemma]
For every pre-sheaf $F$ on $\mathcal{C}$ and for all $X \in \mathrm{ob}(\mathcal{C})$, there exists a natural bijection $$\theta_{X}: \mathrm{Hom}_{\mathbf{Presh}(\mathcal{C})}(h_{X}, F) \rightarrow F(X)$$
\end{lemma}

\begin{proof}
Suppose we are given $f: h_{X} \rightarrow F$. This is a natural transformation and thus we obtain $$f(X): h_{X}(X) \rightarrow F(X)$$ but $h_{X}(X) = \mathrm{Hom}_{\mathcal{C}}(X,X)$ and $\mathrm{id}_{X} \in \mathrm{Hom}_{\mathcal{C}}(X,X)$. This implies $f(X)(\mathrm{id}_{X}) \in F(X)$ and therefore $\theta_{X}(f) = f(X)(\mathrm{id}_{X}) \in F(X)$. \\
Now, let us construct the inverse. Construct $$\psi_{X} : F(X) \rightarrow \mathrm{Hom}_{\mathbf{Presh}(\mathcal{C})}(h_{X}, F)$$ Let $\alpha \in F(X)$, we want to define $$h_{X}(Y) \rightarrow F(Y) \; \forall \; Y \in \mathcal{C}$$ But then $f \in h_{X}(Y)=\mathrm{Hom}_{\mathcal{C}}(Y,X)$ implies $F(X) \xrightarrow{F(f)} F(Y) \Rightarrow F(f)(\alpha) \in F(Y)$. \\
We can easily check that these two maps are inverses which completes the proof.
\end{proof}

Suppose $\mathcal{F}: \mathcal{C} \rightarrow \mathcal{C}'$ is a functor. Then, $\mathcal{F}$ is called faithful if $$\mathrm{Hom}_{\mathcal{C}}(X,Y) \hookrightarrow \mathrm{Hom}_{\mathcal{C}'} (\mathcal{F}(X), \mathcal{F}(Y)) \; \forall \; X,Y \in \mathrm{ob}(\mathcal{C})$$
We say that $\mathcal{F}$ is full if this map is an epimorphism and $\mathcal{F}$ is an embedding if $\mathcal{F}$ is fully faithful.

\begin{lemma}
Yoneda functor is an embedding.
\end{lemma}

\begin{proof}
By Yoneda lemma we have $$\mathrm{Hom}_{\mathbf{Presh}(\mathcal{C})}(h_{X}, h_{Y}) = h_{Y}(X)$$ But since $h_{Y}(X) = \mathrm{Hom}_{\mathcal{C}}(X,Y)$, the proof is complete.
\end{proof}

\subsection{Adjoint functors}

Suppose we have two functors $$\mathcal{F}: \mathcal{C} \rightarrow \mathcal{C}'  \text{ and } \mathcal{G}: \mathcal{C}' \rightarrow \mathcal{C}$$
The pair $(\mathcal{F}, \mathcal{G})$ is an adjoint pair if for all $X \in \mathrm{ob}(\mathcal{C})$ and $Y \in \mathrm{ob}(\mathcal{C}')$, there exists a natural transformation $$\mathrm{Hom}_{\mathcal{C}}(X, \mathcal{G}(Y)) \xlongrightarrow{\sim} \mathrm{Hom}_{\mathcal{C}'}(\mathcal{F}(X),Y)$$

\begin{example}
\begin{enumerate}
\item Take $\mathcal{C,D}$ to be the category $\mathbf{Mod}_{R}$ of $R$-modules. Define the functors 
\begin{align*}
F: \mathcal{C} &\rightarrow \mathcal{D} & & G: \mathcal{D} \rightarrow \mathcal{C} \\
F(A) &= A \otimes_{R} N & & G(B) = \Hom_{R}(N,B)
\end{align*}
Consider $\Hom_{R}(A \otimes_{R} N , B)$ and $\Hom_{R}(A, \Hom_{R}(N,B))$. These are both in bijective correspondence, in fact they are isomorphic as $R$-modules. Hence, $(F,G)$ is an adjoint pair. This is also called the Hom-tensor adjunction.
\item $(F,G)$ with $F$ the free functor and $G$ the forgetful functor is also an adjoint pair. 
\end{enumerate}
\end{example}

\begin{proposition}
Left adjoint and right adjoint have to be unique (if they exist).
\end{proposition}

Suppose we have an adjoint pair $(\mathcal{F}, \mathcal{G})$. Then, for every $X \in \mathrm{ob}(\mathcal{C})$ we have (follows from adjoint-ness) $$\mathrm{Hom}_{\mathcal{C}}(X, \mathcal{G}\circ \mathcal{F}(Y)) \xlongrightarrow{\sim} \mathrm{Hom}_{\mathcal{C}'}(\mathcal{F}(X),\mathcal{F}(Y))$$
This implies there is a canonical map $$u_{X}: X \rightarrow \mathcal{G} \circ \mathcal{F}(X)$$ and this in turn implies the existence of a natural transformation $$u: \mathrm{id}_{\mathcal{C}} \rightarrow \mathcal{G} \circ \mathcal{F}$$ called the unit of adjunction. \\
Similarly, for all $Y \in \mathrm{ob}(\mathcal{C}')$ we have 
$$\mathrm{Hom}_{\mathcal{C}}(\mathcal{F}\circ \mathcal{G}(X), Y) \xlongrightarrow{\sim} \mathrm{Hom}_{\mathcal{C}'}(\mathcal{G}(Y),\mathcal{G}(Y))$$
This implies the existence of a natural transformation $$\epsilon : \mathrm{id}_{\mathcal{C}'} \rightarrow \mathcal{G} \circ \mathcal{F}$$ called the co-unit of adjunction.


\begin{definition}
It is a category $\mathcal{C}$ such that 
\begin{enumerate}
\item it admits finite coproduct.
\item it has a zero product (both final and initial object).
\item $\mathrm{Hom}_{\mathcal{C}}(X,Y) \in \mathbf{Ab}$ such that $$\mathrm{Hom}_{\mathcal{C}}(X,Y) \times \mathrm{Hom}_{\mathcal{C}}(Y,Z) \rightarrow \mathrm{Hom}_{\mathcal{C}}(X,Z)$$ is bilinear.
\end{enumerate}
\end{definition}

\begin{definition}
It is an additive category such that every map $f: X \rightarrow Y$ has a kernel and a cokernel.
\end{definition}


\chapter{Lecture-5 (23rd January, 2023): Etale morphisms}

Let $A$ be a commutative ring and $M$ be a $A$-module. 

\begin{definition}
$M$ is flat if $$N \hookrightarrow N' \Rightarrow N \times M \hookrightarrow N' \times M$$
\end{definition}

\begin{definition}
$M$ is faithfully-flat if $M$ is flat and  $$N =0 \Leftrightarrow N \times_{A} M =0$$
\end{definition}

\begin{definition}
$M$ is projective if it is a direct summand of a free $A$-module. Or equivalently,

\begin{align*}
N \twoheadrightarrow N' &\Rightarrow \Hom(M, N) \twoheadrightarrow \Hom(M, N')\\
\Leftrightarrow \mathrm{Ext}_{A}^{i} (M,N) &= 0 \; \forall i >0 \; \forall \; N
\end{align*}
\end{definition}

\begin{lemma}
Suppose $A$ is Noetherian and $M$ is a finitely generated $A$-module. TFAE: 
\begin{enumerate}
\item $M$ is projective.
\item $M$ is flat.
\item $M_{\m}$ is flat for all maximal ideals $\m$.
\item $M_{\m}$ is free for all maximal ideals $\m$.
\end{enumerate}
\end{lemma}

\begin{proof}
$1 \Rightarrow 2$ is obvious. $2\Rightarrow 3$ is a local property. $3 \Rightarrow 4$ is done in commutative algebra. $4 \Rightarrow 1$: Note that $4 \Rightarrow 3 \Rightarrow 2$. So we just prove that $2 \Rightarrow 1$. Thus, enough to show that 
\begin{align*}
\mathrm{Ext}_{A}^i (M,N) &=0 & \forall \; N  \forall \; i>0 \\
\Leftrightarrow \mathrm{Ext}_{A}^i(M,N)_{\m} &= 0 &\forall \m \text{ maximal ideals } \\
\Leftrightarrow \mathrm{Ext}_{A_{\m}}^i (M_{\m}, N_{\m}) &= 0
\end{align*}
This completes the proof.
\end{proof}

Let $k$ be a field and $A$ a $k$-algebra.

\begin{definition}
$A$ is called separable over $k$ if $A \otimes_{k} k'$ is reduced for all field extensions $k' /k$.
\end{definition}

\begin{lemma}
$A$ is separable over $k$ iff every finitely generated subalgebra is separable over $k$.
\end{lemma}

\begin{proposition}
Assume that $A$ is finite dimensional over $k$. TFAE:
\begin{enumerate}
\item $A$ is separable over $k$.
\item $\overline{A}: = A \otimes_{k} \overline{k} = \prod_{i=1}^n \bar{k}$.
\item $A = \prod_{i=1}^n k_{i}$ where $k_{i}/k$ is a finite separable field extension.
\item The trace form $A \times A \rightarrow k ((w,w') \mapsto \mathrm{Tr}_{A/k}(ww'))$ is non-degenerate.
\end{enumerate}
\end{proposition}

\begin{proof}
($1 \Rightarrow 2$)
$$ \bar{A} = \prod_{i=1}^{n} A_{\m_{i}} = \prod_{i=1}^n \bar{k}$$
($2 \Rightarrow 3$) 
$$\frac{A}{\mathrm{Nil}(A)} = \prod_{i=1}^{n} k_{i}$$ where $k_{i}$ is finite field extension of $k$. \\
$\bar{A}$ is reduced $\Rightarrow \nil(A)=0 \Rightarrow A \simeq \ds{\prod_{i=1}^n k_{i}}$. \\
Now, say that $A$ is a finite field extension of $k$. Say $A = k'$. We have the following inclusions \[\begin{tikzcd}
	k & {k''} & {k'} && {}
	\arrow[hook, from=1-1, to=1-2]
	\arrow[hook, from=1-2, to=1-3]
\end{tikzcd}\]
where $k'$ is the maximal purely inseparable extension of $k$ inside $k'$. Need to show that $k'' = k$. \\
Can make $$k '' = \frac{k[t]}{t^{p^n} - \alpha} , \alpha \in k$$
Therefore $$k ' \otimes_{k} \bar{k} = \frac{\bar{k}[t]}{t^{p^n} - \beta^{p^{n}}} = \frac{\bar{k}[t]}{(t-\beta)^{p^n}}$$ for some $\beta\in \bar{k}$. Since the last quotient is not reduced therefore $k'' =k$.\\

($3 \Rightarrow 4$) done in comm. alg. \\

($4 \Rightarrow 1$)
\begin{align*}
\varphi : A\times A &\rightarrow k \\
(w,w') &\mapsto \mathrm{Tr}_{A/k}(ww')
\end{align*}
is non-degenerate. \\
Let $\{w_{1}, \hdots , w_{n}\}$ be a $k$-basis of $A$. \\
Consider $B = (\mathrm{Tr}(w_{i}w_{j}))$ and $\mathrm{disc}_{k}(A) = \det(B) \neq 0 \Rightarrow \mathrm{disc}_{\bar{k}}(\bar{A}) \neq 0$. \\
Suppose that $\nil(\bar{A}) \neq 0$. Suppose $\{w_{1}, \hdots , w_{m}\}$ be a $\bar{k}$-basis of $\bar{A}$. Extend this to a basis $\{w_{1}, \hdots , w_{m}, w_{m+1}, \hdots , w_{n}\}$ of $A$ such that $w_{i}w_{j}$ is nilpotent for all $i,j$. This implies $\det(\mathrm{Tr}(w_{i}w_{j})) = 0$ which is a contradiction. Therefore $\nil(\bar{A})=0$.
\end{proof}

\section{Kahler Differentials}

Some reference materials. 
\begin{itemize}
\item \href{http://math.uchicago.edu/~amathew/chsmoothness.pdf}{advanced1} \href{http://therisingsea.org/notes/Section2.8-Differentials.pdf}{advanced2} \href{https://anagrams-seminar.github.io/hdr/kahler.pdf}{advanced3}
\item \href{http://people.math.sfu.ca/~kyeats/teaching/math800/MATH%20800%20-%20Final%20Project.pdf}{basic}
\item Matsumura book on Commutative algebra and Commutative ring theory
\item Chapter 4 of T.A. Springer's Linear Algebraic Groups.
\end{itemize}

Let $A$ be a commutative ring and $M$ an $A$-module. A derivative $D : A \rightarrow M$ is an abelian group homomorphism such that $$D(ab) = aD(b) + D(a)b$$
Let $$\mathrm{Der}(A,M) = \text{ the set of derivations from } A \text{ to } M$$

If $A$ is a $k$-algebra where $k$ is a commutative ring, then we say that $D$ is a $k$-derivation if $D(k)=0$ \\

More notation: Let $\mathrm{Der}_{k}(A,M)$ be the set of all $k$-derivations and $\mathrm{Der}_{k}(A) = \mathrm{Der}_{k}(A,A)$\\

We can make $\mathrm{Der}(A,M)$ is an $A$-module so that $$(a\cdot D)(b) = aD(b)$$

Suppose $$D: A \rightarrow M$$ then 
\begin{align*}
D(\ZZ) &= 0 \\
\mathrm{Der}(A,M) &= \mathrm{Der}_{\ZZ}(A,M)
\end{align*}

Take $D,D' \in \mathrm{Der}_{k}(A)$, then we can define the bracket $[-,-]$ as $$[D,D'] = DD' - D'D$$ This converts $\mathrm{Der}_{k}(A)$ into a Lie algebra 

\begin{remark}
\begin{enumerate}
\item $d(a^n) = na^{n-1}d(a)$
\item $d^{n}(ab) = \sum_{i=0}^{n} \binom{n}{i} d^{i} a d^{n-i} b$
\end{enumerate}
In particular, if $\mathrm{char}(A)=p > 0$ then 
\begin{enumerate}
\item $d^{p}(ab) = ad^{p}b + bd^{p}(a) \Rightarrow d^p$ is a $k$-derivation.
\item $d^{p}(a+b) = d^p a + d^p b$ 
\end{enumerate}
\end{remark}

Clearly, $\mathrm{Der}_{k}(A, -): A-\mathrm{mod} \rightarrow A-\mathrm{mod}$ is a covariant functor.

\begin{proposition}
$\mathrm{Der}_{k}(A,-)$ is a representable functor.
\end{proposition}

\begin{proof}

\end{proof}

\chapter{Lecture-6 (25th January, 2023):Kahler Differentials}

\section{Differentials and Derivations}

\begin{theorem}
There exists an unique $A$-module (upto isomorphism) $\Omega_{A/k}'$ with a $k$-derivation $d_{A/k}: A \rightarrow \Omega_{A/k}'$ such that for all $A$-modules $M$ and a $k$-derivation $D: A \rightarrow M$, $\exists ! A$-linear map $\varphi : \Omega_{A/k}' \rightarrow M$ such that $D = \varphi \circ d_{A/k}$ $$\mathrm{Der}_{k}(A,M) \xrightarrow{\sim} \Hom_{A}(\Omega_{A/k}' , M)$$
\end{theorem}

\begin{proof}
Take $\Omega_{A/k}^1$ to be the free $A$-module generated by symbols $\{da: a\in A\}$ modulo the relations $d(a+b) - d(a) - d(b) =0$ and $d(ab) = ad(b) + bd(a) \; \forall \; a,b \in A$.
\end{proof}

\begin{definition}
A square zero extension of $k$-algebras is a surjection of $k$-algebras $g: B \twoheadrightarrow C$ such that $M^2 = 0$ where $M = \ker(g)$. \\
We can think of $B$ as the manifold $C$ plus some other tangent directions. $B$ is some kind of thickening of $C$ in the spec level.
\end{definition}

\begin{example}
Suppose $M \in \mathbf{Mod}_{A}$ and $B = A \oplus M$. Addition and multiplication are defined as follows: 
\begin{align*}
(a,m) + (a',m') &= (a+a', m + m')\\
(a,m) \cdot (a',m') &= (aa' , am' + a'm)
\end{align*}

Here, 
\[\begin{tikzcd}
	0 & M & B & A & 0 \\
	&& {(a,m)} & a
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["\varphi", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
	\arrow[maps to, from=2-3, to=2-4]
\end{tikzcd}\]
is a square zero extension. We wish to ask when does the following lift exist. 
 \[\begin{tikzcd}
	0 & M & B & C & 0 \\
	&& A
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["\varphi", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
	\arrow["g", from=2-3, to=1-4]
	\arrow["{?}", dashed, from=2-3, to=1-3]
\end{tikzcd}\]
Suppose we are given a lift $h: A \rightarrow B$ of $g$ and $h'$ is another lift of $g$. Then, 
\[\begin{tikzcd}
	{D:= h-h' :A} & B \\
	& M
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-1, to=2-2]
	\arrow[hook, from=2-2, to=1-2]
\end{tikzcd}\]
$M$ is a $C$-module ($M = M/M^2 = M \otimes B/M = C$ is a $C$-module). So, $M$ is also an $A$-module via the map $g$. \\

\textbf{Claim}: $D \in \mathrm{Der}_{k}(A,M)$ \\
\begin{proof}

\end{proof}
Conversely, if $D \in \mathrm{Der}_{k}(A,M)$, then $h' = h + D$ is also a lift. 
\end{example}

\begin{proof}[Proof of main theorem]
\begin{enumerate}
\item Consider the map $A\otimes_{k} A \xrightarrow{\mu} A$ such that $a \otimes b \mapsto ab$. $\mu$ is a surjective $k$-algebra homomorphism. Let $I = \ker(\mu)$ and $B = A \otimes_{k} A/I^2$. We obtain the following square zero extension
\[\begin{tikzcd}
	0 & {I/I^2} & B & A & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["\varphi", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}\]
Let $\Omega_{A/k}' := I/I^2$ is the module of Kahler differentials. \\
$\Omega_{A/k}$ the canonical sheaf of diagonal embedding of $X \hookrightarrow X \times X$\\
Define 
\begin{align*}
\alpha_{1}: A \rightarrow B & \alpha_{1}(a) = a\otimes 1 \pmod{I^2} \\
\alpha_{2}: A \rightarrow B & \alpha_{2}(a) = 1\otimes a \pmod{I^2}
\end{align*}
We obtain the following diagram that commutes
\[\begin{tikzcd}
	0 & {\Omega_{A/k}'} & B & A & 0 \\
	&& A
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["\varphi", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
	\arrow["{\alpha_{i}}", from=2-3, to=1-3]
	\arrow["{\mathrm{id}}"', from=2-3, to=1-4]
\end{tikzcd}\]
Next, define $d_{A/k} = \alpha_{1} - \alpha_{2}$.\\
Let $M \in \mathbf{Mod}_{A}$ and $D: A \rightarrow M$ a $k$-derivation. \\
Now, define
\begin{align*}
\theta: A \otimes_{k} A &\rightarrow A *M (= A \oplus M) \text{ a square zero extension}\\
a\otimes b &\mapsto (ab, aDb)
\end{align*}
\textbf{Claim}:  $\theta(I) \hookrightarrow M$
\begin{proof}
Suppose $\sum x_{i} \otimes y_{i} \in I \Rightarrow \sum x_{i}y_{i} = 0 \in A$. This implies $\theta(\sum x_{i}\otimes y_{i}) = (\sum x_{i}y_{i}=0 , \sum x_{i} Dy_{i}) \in M$. Therefore, $$\theta (I/I^2) \hookrightarrow M/M^2 = M$$
Thus $\theta$ descends to a map $$\tilde{\theta} : I/I^2 \rightarrow M$$ or $\tilde{\theta} : \Omega_{A/k}' \rightarrow M$
\end{proof}
\textbf{Claim}:  $\tilde{\theta}$ is unique such that $\tilde{\theta} \circ d_{A/k} = D : A \rightarrow M$
\begin{proof}
Suffices to show that $\Omega_{A/k}'$ is generated by $\langle da : a \in A \rangle$ as an $A$-module. 
\begin{align*}
a\otimes a' &= (a \otimes 1)(-a' \otimes 1 + 1 \otimes a') + aa' \otimes 1 & &\\
\alpha \in \Omega_{A/k}' &\Rightarrow \alpha = \sum x_{i} \otimes y_{i} &\text{ such that } \sum x_{i}y_{i} = 0 \\
&\Rightarrow \alpha = \sum x_{i}dy_{i}
\end{align*}
\end{proof}
\end{enumerate}
\end{proof}

\begin{corollary}
$$\Omega_{A/k}' = \frac{\text{ free module on } da}{\text{ additivity + Leibnitz rule}}$$
In particular, $\mathrm{Der}_{k}(A) = \Omega_{A/k}^{'*} = \Hom(\Omega_{A/k}',A) = T_{A/k}$ (tangent space)
\end{corollary}


\begin{definition}
We say that $A$ is formally smooth over $k$ if given any square zero extension \[\begin{tikzcd}
	0 & M & B & A & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["\varphi", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}\] and a diagram of $k$-algebras, there exists a lifting $\tilde{g}$ of $g$ 
\[\begin{tikzcd}
	k & C \\
	B & A
	\arrow[from=1-1, to=2-1]
	\arrow["f", from=1-1, to=1-2]
	\arrow["\varphi"', from=2-1, to=2-2]
	\arrow["g", from=1-2, to=2-2]
	\arrow["{\tilde{g}}", dashed, from=1-2, to=2-1]
\end{tikzcd}\]
\end{definition}

\begin{definition}
We say that $A$ is formally unramified over $k$ if $g$ has atmost one lift. \\
We say that $A$ is formally \'{e}tale over $k$ if $A$ is formally smooth and formally unramified.
\end{definition}

\begin{definition}
We say that $A$ is smooth (resp. unramified, \'{e}tale) if it is formally smooth (unramified, \'{e}tale) and finite type over $k$.
\end{definition}

\begin{exercise}
$A= k[X_{1}, \hdots , X_{n}], \Omega_{A/k}' = ?$ \\
\textbf{Claim}: There is a canonical isomorphism of $A$-modules $$\theta : \underbrace{AdX_{1} \oplus \cdots \oplus AdX_{n}}_{F} \xrightarrow{\sim} \Omega_{A/k}'$$ 
\begin{lemma}
Suppose $U \subseteq A$ is any set that generates $A$ as $k$-algebra. Then, $\Omega_{A/k}'$ is generated by $\{da: a\in A\}$ as $A$-module. 
\end{lemma}
\begin{proof}

\end{proof}
This lemma implies the map is surjective. \\
Next, define $D_{i}: A \rightarrow A$ such that $f \mapsto \ds{\frac{\partial d}{\partial x_{i}}(f)}$. \\
This gives an unique $A$-linear map $\psi_{i}: \Omega_{A/k}' \rightarrow A$. Define $\psi: \Omega_{A/k}' \rightarrow F$ such that $\psi = \sum_{i=1}^n \psi_{i}$. This implies $\psi \circ \theta = \mathrm{id}_{F}$. Hence, $\psi$ is injective. 
\end{exercise}


\chapter{Lecture-7 (30th January, 2023): Module of differentials}

\begin{lemma}
$A$ is formally unramified iff $\Omega_{A/k}^{1} = 0$.
\end{lemma}

\begin{proof}
Suppose that $\Omega_{A/k}^{1} =0$. Let 
\[\begin{tikzcd}
	0 & M & B & C & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["\varphi", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}\] be a square zero extension. We had seen that all liftings of $f: A \rightarrow C$ differ by $\mathrm{Der}_{k}(A,M) = \Hom_{A}(\Omega_{A/k}^{1}, M)$. This implies there is atmost one lifting of $f$ and this concludes what we want. \\

For the other direction, suppose $A$ is formally unramified over $k$. Recall $$\mu: A \otimes_{k} A \rightarrow A$$ $$I = \ker(\mu)$$ and 
\[\begin{tikzcd}
	0 & I/I^2 = \Omega_{A/k}^{1} & B = (A \otimes_{k} A)/I^2 & C & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["\varphi", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}\]
We had two liftings from $A$ to $B$, $\alpha_{1},\alpha_{2}$ namely $\alpha_{1}(a) = a\otimes 1, \alpha_{2}(a) = 1 \otimes a$ and $d_{A/k} = \alpha_{1} - \alpha_{2}$. Since $A$ is formally unramified, $d_{A/k} = 0$ which implies $\Omega_{A/k}^{1} = 0$.
\end{proof}

\begin{exercise}
Suppose $K/k$ be a finite separable extension. We claim that this extension is formally unramified. 
\end{exercise}

\begin{lemma}
If $k \xrightarrow{f} A $ is of finite type ($k$ is a ring), then $\Omega_{A/k}^{1}$ is a finitely generated $A$-module.
\end{lemma}

\begin{proof}

\end{proof}

\begin{example}
If $A$ is a commutative ring, $S$ a multiplicatively closed subset of $A$, $B = S^{-1}A$. Then, $A \rightarrow B$ is formally etale. \\

\textbf{Formally unramified:} Enough to show that $$d_{A/k}(fg^{-1}) = 0 \; \forall \; f \in A , g\in S$$ But this means 
\begin{align*}
d_{B/A}(fg^{-1}) &= fd_{A/B} (g^{-1}) + g^{-1}d_{B/A}(f) \\
&= fd_{A/B}(g^{-1}) \\
gd_{A/B}(g^{-1}) + g^{-1}d_{A/B}(g) &= 0 \\
\Rightarrow gd_{A/B}(g^{-1}) &= 0 \\
\Rightarrow d_{B/A}(g^{-1}) &= 0
\end{align*}
Next, \\
\textbf{Formally unramified:}
\[\begin{tikzcd}
	0 & M & C & {C'} & 0 \\
	\\
	& A & B
	\arrow["g", from=3-2, to=1-3]
	\arrow["{\tilde{f}}"', dashed, from=3-3, to=1-3]
	\arrow["\theta"', from=3-2, to=3-3]
	\arrow[from=3-2, to=3-3]
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["\varphi"', from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
	\arrow["f"', from=3-3, to=1-4]
\end{tikzcd}\]
\begin{align*}
\tilde{f} \text{ exists } &\Leftrightarrow g(s) \in C^{\times} \;\forall \; g \in S \\
&\Leftrightarrow \varphi g(s) = f\theta(s) \in C'^{\times}
\end{align*}
Then use the lemma stated after this example.
\end{example}

\begin{lemma}
If \[\begin{tikzcd}
	0 & I & C & C' & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["\varphi", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}\] is an extension of rings such that $I$ is nilpotent. Then $a\in C^{\times} \Leftrightarrow \varphi(a) \in C'^{\times}$.
\end{lemma}

\begin{proof}

\end{proof}

\begin{theorem}[First fundamental theorem for module of differentials]
Let \[\begin{tikzcd}
	k & A & B
	\arrow["f"', from=1-1, to=1-2]
	\arrow["g"', from=1-2, to=1-3]
\end{tikzcd}\] be ring homomorphisms. Then, \[\begin{tikzcd}
	{\Omega_{A/k}^{1} \otimes_{A} B } & {\Omega_{B/k}^{1}} & {\Omega_{B/A}^{1}} & 0
	\arrow["\alpha", from=1-1, to=1-2]
	\arrow["\beta", from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
\end{tikzcd}\] is exact. Moreover, it is split exact if $B$ is formally smooth over $A$. Here, $\alpha(ad_{A/k}a' \otimes b') = bad_{B/k}(a'), \beta(ad_{B/k}b) = ad_{B/A}(b)$.
\end{theorem}

\begin{proof}
We know that a sequence of $B$-modules \[\begin{tikzcd}
	{N'} & N & {N''}
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
\end{tikzcd}\] is exact iff \[\begin{tikzcd}
	{\mathrm{Hom}_{B}(N'',M)} & {\mathrm{Hom}_{B}(N,M)} & {\mathrm{Hom}_{B}(N',M)}
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
\end{tikzcd}\] is exact for all $B$-module $M$. \\

Thus, we just need to check that \[\begin{tikzcd}
	{\mathrm{Hom}_{B}(\Omega_{B/A}^{1},M)} & {\mathrm{Hom}_{B}(\Omega_{B/k}^{1},M)} & {\mathrm{Hom}_{B}(\Omega_{A/k}^{1} \otimes_{A} B,M)} = {\mathrm{Hom}_{A}(\Omega_{A/k}^{1},M)}
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
\end{tikzcd}\] is exact. But this is equivalent to checking \[\begin{tikzcd}
	{\mathrm{Der}_{A}(B,M)} & {\mathrm{Der}_{k}(B,M)} & {\mathrm{Der}_{k}(A,M)}
	\arrow["{\beta^*}", from=1-1, to=1-2]
	\arrow["{\alpha^*}", from=1-2, to=1-3]
\end{tikzcd}\] is exact. \\

Next, assume that $B$ is formally smooth over $A$. We need to show that $\alpha^*$ is surjective. Let $D\in \mathrm{Der}_{k}(A,M)$. We know that the diagram \[\begin{tikzcd}
	B && B \\
	\\
	A && {B*M = B \oplus M}
	\arrow["{\mathrm{id}}", from=1-1, to=1-3]
	\arrow["{p_{1}}"', from=3-3, to=1-3]
	\arrow["g", from=3-1, to=1-1]
	\arrow["\varphi"', from=3-1, to=3-3]
\end{tikzcd}\] commutes. But $B * M$ is a square zero extension. Thus, we get a map $B \rightarrow B *M$ such that diagram \[\begin{tikzcd}
	B && B \\
	\\
	A && {B*M = B \oplus M}
	\arrow["{\mathrm{id}}", from=1-1, to=1-3]
	\arrow["{p_{1}}"', from=3-3, to=1-3]
	\arrow["g", from=3-1, to=1-1]
	\arrow["\varphi"', from=3-1, to=3-3]
	\arrow["\theta", from=1-1, to=3-3]
\end{tikzcd}\]
commutes. Here, $\varphi(a) = (ga, Da)$. We write $\theta (b) = (b, D'b)$. \\

\textbf{Claim}: $D'$ is a $k$-derivation from $B$ to $M$. \\

It is clear that $D' \circ g = D$. This is equivalent to a $B$-linear map $\alpha ' : \Omega_{B/k}^{1} \rightarrow M$. Define 
\begin{align*}
D: A &\rightarrow \Omega_{A/k}^{1} \otimes_{A} B \\
D(a) &= d_{A/k}(a) \otimes 1
\end{align*}

Check that $D\in \mathrm{Der}_{k}(A, \Omega_{A/k}^{1} \otimes_{A} B)$. This implies the existence of an extension $D' : B \rightarrow \Omega_{A/k}^{1} \otimes_{A} B$ such that $D' \circ g = D$ iff a $B$-linear map $\alpha ' : \Omega_{B/k}^{1} \rightarrow \Omega_{A/k}^{1} \otimes_{A} B$ such that $\alpha' \circ g = \alpha$. \\

\textbf{Claim}: $\alpha' \circ \alpha = \mathrm{id}$\\

This concludes the proof.
\end{proof}

Suppose \[\begin{tikzcd}
	{k } & A & B
	\arrow["g", two heads, from=1-2, to=1-3]
	\arrow["f", from=1-1, to=1-2]
\end{tikzcd}\] 

From the previous theorem, we get \[\begin{tikzcd}
	{\Omega_{A/k}^{1} \otimes_{A} B } & {\Omega_{B/k}^{1}} & {\Omega_{B/A}^{1}}=0 & 0
	\arrow["\alpha", from=1-1, to=1-2]
	\arrow["\beta", from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
\end{tikzcd}\] is exact. Or rather \[\begin{tikzcd}
	{\Omega_{A/k}^{1} \otimes_{A} B } & {\Omega_{B/k}^{1}} &  0
	\arrow["\alpha", from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
\end{tikzcd}\] is exact. What is the kernel of this map? 

\begin{theorem}[Second fundamental theorem of module of differentials]
Let $I = \ker(A \twoheadrightarrow B)$. Then, there exists an exact sequence \[\begin{tikzcd}
	{I/I^2} & {\Omega_{A/k}^{1} \otimes_{A} B} & {\Omega_{B/k}^{1}} & 0
	\arrow[two heads, from=1-2, to=1-3]
	\arrow["\delta", from=1-1, to=1-2]
	\arrow[from=1-3, to=1-4]
\end{tikzcd}\] where $\delta(a) = d_{A/k} (a) \otimes 1$. Moreover, this sequence is split exact if $B$ is formally smooth over $k$.
\end{theorem}

\begin{example}
Let $B = k[X_{1},X_{2}, \hdots , X_{n}]/\langle f_{1}, \hdots , f_{n} \rangle$. Then, what is $\Omega_{B/k}^{1}$. \\

If $A = k[X_{1}, X_{2}, \hdots , X_{n}]$. Then, $$\Omega_{A/k}^{1} = Adx_{1} \oplus \cdots \oplus Adx_{n}$$ 
$X= \spec(A), Y = \spec(B = A/I)$
\end{example}


\chapter{Lecture-8 (1st February, 2023):Differentials}

contd..
\begin{theorem}[Second fundamental theorem of module of differentials]
Let $I = \ker(A \twoheadrightarrow B)$. Then, there exists an exact sequence \[\begin{tikzcd}
	{I/I^2} & {\Omega_{A/k}^{1} \otimes_{A} B} & {\Omega_{B/k}^{1}} & 0
	\arrow[two heads, from=1-2, to=1-3]
	\arrow["\delta", from=1-1, to=1-2]
	\arrow[from=1-3, to=1-4]
\end{tikzcd}\] where $\delta(a) = d_{A/k} (a) \otimes 1$. Moreover, this sequence is split exact if $B$ is formally smooth over $k$.
\end{theorem}

\begin{proof}
Suffices to show that for any $B$-module $M$, the sequence 
\[\begin{tikzcd}
	{\Hom_{B}(\Omega_{B/k}^{1},M)} & {\Hom_{B}(\Omega_{A/k}^{1} \otimes_{A} B,M)} & {\Hom_{B}(I/I^2,M)} & {(*)}
	\arrow["\delta^*", from=1-2, to=1-3]
	\arrow["\alpha^*", from=1-1, to=1-2]
\end{tikzcd}\] is exact. \\
\textbf{Well-definedness} of $\delta$: 
\begin{align*}
\delta(ab) &= d_{A/k}(ab) \otimes 1 \\
&=(ad_{A/k}(b) + bd_{A/k}a) \otimes 1 \\
&= ad_{A/k}b \otimes 1 + bd_{A/k} \otimes 1 \\
&= d_{A/k}b \otimes g(a) + d_{A/k} \otimes g(b) \text{ since }\\
&= 0+0 \\
&= 0
\end{align*}
Now, we have 
\[\begin{tikzcd}
	{\mathrm{Der}_{k}(B,M)} & {\Hom_{B}( \mathrm{Der}_{k}(A,M)} & {\Hom_{B}(I/I^2,M)} & {=(*)}
	\arrow["\delta^*", from=1-2, to=1-3]
	\arrow["\alpha^*", from=1-1, to=1-2]
\end{tikzcd}\]
Take $D\in \mathrm{Der}_{k}(A,M)$, then $D(a)=0 \; \forall \; a \in I$. Since, 
\[\begin{tikzcd}
	A & B \\
	M
	\arrow[two heads, from=1-1, to=1-2]
	\arrow[from=1-1, to=2-1]
\end{tikzcd}\]
Therefore there exists $D' \in \mathrm{Der}_{k}(B,M)$ such that $D' \circ g = D$. Thus, sequence is exact. \\

Now, assume that $B$ is formally smooth over $k$. Look at the exact sequence of $B$-modules which is a square $0$ extension of $B$. 
\[\begin{tikzcd}
	0 & {I/I^2} & {A/I^2} & B & 0 \\
	&&& B
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["{g'}", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
	\arrow["{\mathrm{id}}"', from=2-4, to=1-4]
	\arrow["{\exists \;h}", dashed, from=2-4, to=1-3]
\end{tikzcd}\]
This implies the existence of a $k$-algebra homomorphism $h: B \rightarrow A/I^2$ such that $g\circ h = \mathrm{id}_{B}$. Now, consider the map $$h\circ g' : A/I^2 \rightarrow A/I^2$$ that kills $I/I^2$ so that $g'(1-hg')=0$. \\
Let $D' = 1-hg': A/I^2 \rightarrow A/I^2$. Check that this is a $k$-derivation of $A/I^2$. \\
Let $\psi \in \Hom_{B}(I/I^2, M)$ and consider the maps 
\[\begin{tikzcd}
	{D:=A} & {A/I^2} & {A/I^2} & M
	\arrow[from=1-1, to=1-2]
	\arrow["{D'}", from=1-2, to=1-3]
	\arrow["\psi", from=1-3, to=1-4]
\end{tikzcd}\]
Since $D'$ is a derivation, check that $D\in \mathrm{Der}_{k}(A,M)$. This means we get an $A$-linear map $\varphi : \Omega_{A/k}^{1} \rightarrow M$ which is equivalent to getting a map $\varphi : \Omega_{A/k}^1\otimes_{A} B \rightarrow M$ such that $\delta*(\phi)=\psi$. \\
Finally, take $M = I/I^2$ and $\psi =\mathrm{id}$. \\
$\Rightarrow \; \exists \;$ a map from $\varphi : \Omega_{A/k}^1 \rightarrow I/I^2 \Leftrightarrow \varphi : \Omega_{A/k}^1\otimes_{A} B \rightarrow I/I^2$ and $\varphi \circ \delta = \id_{I/I^2}$. Finally, 
\[\begin{tikzcd}
	0 & {I/I^2} & {\Omega_{A/k}^{1} \otimes_{A} B} & {\Omega_{B/k}^{1}} & 0
	\arrow[from=1-1, to=1-2]
	\arrow["\delta", from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow["\varphi", shift left=1, curve={height=-12pt}, from=1-3, to=1-2]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}\]
or the sequence splits. This concludes the proof.
\end{proof}

\begin{corollary}
Let $B = k[X_{1}, \hdots , X_{n}]/\langle f_{1}, \hdots , f_{r} \rangle$. Thus, $$\Omega_{B/k}^1 = \frac{Bd\bar{x}_{1} + \cdots + Bd\bar{x}_{n}}{\langle df_{1} , \cdots , df_{r} \rangle }$$ with $df_{i} = \ds{\sum_{j=1}^n \frac{\partial f_{i}}{\partial x_{j}}}$ modulo $I^2$.
\end{corollary}

\begin{corollary}
Suppose $k \xlongrightarrow{f} A \xtwoheadrightarrow{g} B$ are $k$-algebra homomorphisms such that $A,B$ are formally smooth over $k$. Then,
\[\begin{tikzcd} 
	0 & {I/I^2} & {\Omega_{A/k}^{1} \otimes_{A} B} & {\Omega_{B/k}^{1}} & 0
	\arrow[from=1-1, to=1-2]
	\arrow["\delta", from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}\]
\end{corollary}

\begin{definition}
\begin{enumerate}
\item Let $k \xlongrightarrow{f}A$ be a ring homomorphism. We say that $A$ is unramified over $k$ if it is formally unramified and of finite type.
\item Let $q\in \spec(A)$. Then, we say that $A$ is unramified over $k$ at $q$ if there exists $g\in A\bs k$ such that the map $f: K \rightarrow A_{g}$ is unramified.
\item We say that $A$ is locally unramified over $k$ if it is unramified at every $q\in \spec(A)$.
\end{enumerate}
\end{definition}

The question is whether the $1,3$ conditions are equivalent. $1\Rightarrow 3$ is known. So we need to check if $3 \Rightarrow 1$. Suppose that for all $q \in \spec(A)$ there exists $g \not \in q$ such that $k \rightarrow A_{g}$ is unramified. Let $U_{q} = \spec(A_{g})$. \\
Since $X$ is locally unramified, we must have $X = \ds{\bigcup_{q} U_{q}}$ but remember that $X$ is spectral and thus quasi-compact. This implies that there is a finite subcover $X = \ds{\bigcup_{i=1}^n U_{q_{i}}} \Rightarrow A = \langle g_{1} , \hdots , g_{n} \rangle \Rightarrow A$ is of finite type over $k$. \\

Why is $\Omega_{A/k}^1 = 0$?\\

Notice that $\Omega_{A_{g}/k}^{1} =0$ and we have an exact sequence
\[\begin{tikzcd}
	{\Omega_{A/k}^{1} \otimes_{A} A_{g}} & {\Omega_{A_{g}/k}^{1}} & {\Omega_{A_{g}/A}^{1}} & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
\end{tikzcd}\]
But $\Omega_{A_{g}/A}^{1}$ is formally \'{e}tale and is therefore $0$. This transforms the above sequence to 
\[\begin{tikzcd}
	0 & {\Omega_{A/k}^{1} \otimes_{A} A_{g}} & {\Omega_{A_{g}/k}^{1}} & 0 & {}
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-1, to=1-2]
\end{tikzcd}\]
Hence, $(\Omega_{A/k}^1)_{g} = \Omega_{A_{g}/k}^{1} \; \forall \; g \Rightarrow \Omega_{A/k}^{1} =0$. This finishes the proof.

\begin{proposition}
\begin{enumerate}
\item Unramified maps are preserved under base change.
\item Unramified maps are preserved under composition.
\item Principal localisations are unramified.
\item Any surjection is unramified.
\end{enumerate}
\end{proposition}

\begin{proof}
Let us prove $3$. Look at 
\[\begin{tikzcd}
	k & A &&&& {} \\
	B & {A\otimes_{k}B=C}
	\arrow["f", from=1-1, to=1-2]
	\arrow["g"', from=1-1, to=2-1]
	\arrow["{f'}"', from=2-1, to=2-2]
	\arrow["{g'}", from=1-2, to=2-2]
\end{tikzcd}\]
More generally, we have 
\begin{lemma}
$\Omega_{C/B}^1 \simeq \Omega_{A/k}^1 \otimes_{k}B$
\end{lemma}

\begin{proof}
Look at the maps as a consequence of first fundamental exact sequence
\[\begin{tikzcd}
	{\Omega_{A/k}^1} & {\Omega_{C/k}^1} & {\Omega_{C/B}^1} &&& {}
	\arrow[from=1-1, to=1-2]
	\arrow[two heads, from=1-2, to=1-3]
\end{tikzcd}\]
This gives the map $\Omega_{A/k}^1 \otimes_{k} B \xlongrightarrow{\alpha} \Omega_{C/B}^1$. Now, we wish to construct an inverse map $\Omega_{C/B} \rightarrow \Omega_{A/k}^1 \otimes_{k} B$. Look at the map $d_{A/k} : A \rightarrow \Omega_{A/k}^1$. This gives a map 
\begin{align*}
d' : C= A\otimes_{k} B &\rightarrow \Omega_{A/k}^1 \otimes_{k} B \\
a\otimes b &\mapsto d_{A/k} a \otimes b
\end{align*}
Check that $d'$ is a $B$-derivation. This implies the existence of a map $\beta : \Omega_{C/B}^1 \rightarrow \Omega_{A/k}^1 \otimes_{k} B$. Check that $\alpha \circ \beta = \beta \circ \alpha = \id$. The proof is complete.
\end{proof}
\end{proof}

\begin{lemma}
Let $f \xrightarrow{f} A$ be a finite type morphism. Let $\pr \in \spec(A)$. Then, $A$ is unramified over $k$ at $\pr$ if $\Omega_{A/k}^1 \otimes_{A} k(\pr) = 0$ where $k(\pr) = A_{\pr} / \m_{\pr}$.
\end{lemma}

\begin{proof}
It suffices to show that $(\Omega_{A/k}^1)_{\pr} =0$ since $A$ is of finite type. We can deploy Nakayama lemma to conclude what we want. We just need to check that localisation of finitely generated implies finitely generated.
\end{proof}


\chapter{Lecture-9 (6th February, 2023): Differentials}

\section{Differentials contd...}
Recall that given a ring homomorphism $k \xlongrightarrow{A}$, $A$ is unramified iff $A$ is of finite type and $\Omega_{A/k}^{1} =0$. \\

Also, for a finite type algebra $A$, if $\pr \in \spec(A)$ such that $\Omega_{A/k}^{1} \otimes_{A} k (\pr) = 0$ then $A$ is unramified at $\pr$. \\

In particular, if $\Omega_{A/k}^{1} \otimes_{A} k(\pr) = 0 \; \forall \pr \in \spec(A)$, then $A$ is unramified.

\begin{lemma}
\begin{enumerate}
\item Say $A$ is a commutative ring and $I \subseteq A$ is a finitely generated ideal such that $I=I^2$. Then there exists an idempotent $e \in A$ such that $I= \langle e \rangle$.
\item $A/I = A_{e'}$ where $e'(1-e)=0$.
\item $\V(I)$ is open in $\spec(A)$.
\end{enumerate}
\end{lemma}

\begin{proof}
Since $I=I^2$ and $I$ is f.g. then Nakayama lemma implies the existence of an $a\in I$ such that $(1+a)I=0$. Set $f = 1+a$. Then $f^2 = ff = f(1+a)=f + af =f$. \\

Next, take $e' = f$ and $e = 1-f$. Then $\forall \; b \in I$ we have $b=(1-f)b=eb \Rightarrow I =\langle e \rangle$. \\

In particular, the map $$A \rightarrow \frac{A}{\langle e \rangle} \times \frac{A}{\langle e' \rangle}$$ is an isomorphism. This helps us conclude that $A/ \langle e \rangle = A_{e'}$. \\

And, $V(I) = \spec(A/I) = \spec(A_{e'}) \hookrightarrow \spec(A)$ is open. 
\end{proof}

\begin{corollary}
If $k \xlongrightarrow{f} A$ is unramified, then the diagonal map $\Delta_{X}: X \hookrightarrow X \times_{Y} X$ is a closed and open immersion where $X =\spec(A)$ and $Y = \spec(k)$.
\end{corollary}

\begin{proof}
Recall that by definition $\Omega_{A/k}^{1} = I/I^2$ where $I$ is the ideal of $X$ inside $X \times_{Y} X$. The module of differential is of f.g. since $A$ is of finite type.\\

\textcolor{BrickRed}{Red Flag}: $I$ need not be f.g. as required in our previous lemma. So, WE HAVE TO change the definition of unramified by replacing finitely presented instead of finite type. So, work with this definition. \\

Working with the new definition, we know that $\Omega_{A/k}^{1} = 0 \Rightarrow I=I^2$ and hence from previous lemma, we know that this immersion is open.  
\end{proof}

\begin{lemma}
Let $(A, \m)$ be a local ring which is a $k$-algebra for some field $k$ such that $A/\m = k$. Then, $\m / \m^2 \simeq \Omega_{A/k}^{1} \otimes_{A} k $
\end{lemma}

\begin{proof}
We have an exact sequence 
\[\begin{tikzcd}
	&&&&& {} \\
	0 & {\m/\m^2} & {\Omega_{A/k}^{1} \otimes_{A} k } & {\Omega_{k/k}^{1}} & 0
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
\end{tikzcd}\]
Here, $k$ sits inside $A$ and acts on $A$ as well, hence the sequence splits and is formally smooth. Now, using a result from before, we know that $\Omega_{k/k}^{1} = 0$ and hence the proof is complete.
\end{proof}

\begin{lemma}
Suppose $A$ is as in prev. lemma such that $A$ is essentially of finite type (localisation of a finite type) over $k$. Then, $\Omega_{A/k}^{1}$ is a free $A$-module of rank$= \dim(A)$ iff $A$ is a regular ring.  
\end{lemma}

\begin{proof}
$( \Rightarrow )$ By previous lemma, $\m / \m^2$ is free $k$-module of rank $n = \dim(A)$. Now apply Nakayama to observe that $\m$ is generated by $n$ generators which is the minimal number required. Hence, $A$ is regular. \\
Caution: Here, $\m$ is f.g. requires Noetherian-ness which is guaranteed by the essentially finite-ness. \\

($\Leftarrow$)  Suppose $A$ is regular. Therefore $\m = \langle x_{1}, x_{2}, \hdots , x_{n}\rangle$ where $n = \dim A$. By previous lemma, $\dim_{k} (\Omega_{A/k}^{1} \otimes_{A} k ) = n$. \\

Let $K$ be the quotient field of $A$ (makes sense because a regular local ring is integral domain). This implies $\dim_{K}(\Omega_{K/k}^{1}) =\dim_{K}( \Omega_{A/k}^{1} \otimes_{A} K )= tr.\deg_{k}(K) = \dim(A) = n$. \\

\textcolor{BrickRed}{PLEASE STOP}: The third equality is because of Noether Normalisation theorem. The second equality is some other very non-trivial fact. Just take it for granted for the time being. We will justify it later. 

Detour: \\

\begin{lemma}
Let $A$ be a local integral domain with fraction field $K$ and residue field $k$. Let $M$ be a f.g. $A$-module such that $\dim_{k}(M \otimes_{A} k) = \dim_{K}(M \otimes_{A} K) = n < \infty$. Then, $M$ is a free module of rank $n$. 
\end{lemma}

\begin{proof}
By Nakayama, can find a surjection $\phi: F = A^n \twoheadrightarrow M$. Let $N  = \ker (\phi)$. This gives us the exact sequence
\[\begin{tikzcd}
	0 & N & F & M & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["\phi", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}\]
which implies \[\begin{tikzcd}
	0 & N_{K} & F_{K} & M_{K} & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["\phi", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}\] is exact. \\

We know that $F_{k} \rightarrow M_{K}$ is a surjection of vector spaces of same dimension ($n$). Hence, $N_{K}=0$. But, $N$ is torsion free therefore $N \hookrightarrow N_{K} =0$.
\end{proof}

The proof is now complete using this lemma.
\end{proof}

\begin{corollary}
If $\Omega_{A/k}^{1} = 0$, then $A=k$.
\end{corollary}

\begin{lemma}
Let $k \hookrightarrow L$ be an algebraic extension of fields which is separable. Then, $L/k$ is formally unramified.
\end{lemma}

\begin{proof}
Can assume that $L/k$ is finite, and 
\begin{lemma}
If $A = \varinjlim_{i \in I} A_{i} \Rightarrow \Omega_{A/k}^{1} = \varinjlim_{i \in I} \Omega_{A_{i}/k}^{1}$
\end{lemma}

\begin{proof}

\end{proof}
Can choose a primitive element $\alpha \in L$. Let $f(X)$ be the minimal polynomial of $\alpha \in k[X]$ such that $f(\alpha)=0$ and $f'(\alpha) \in L^{\times}$. Now, write $A=k[X]$ and $I = \langle f(X)\rangle \in A \Rightarrow L = k[X]/ \langle f(X) \rangle$. By the second fundamental exact sequence, we get that 
\[\begin{tikzcd}
	{I/I^2} & {\Omega_{A/k}^{1} \otimes_{A} L} & {\Omega_{L/k}^{1}} & 0
	\arrow["\delta", from=1-1, to=1-2]
	\arrow["\phi", from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
\end{tikzcd}\]
But $\Omega_{A/k}^{1} \otimes_{A} L = L d\bar{X}$ \\

And, $\delta(f) = \ds{\frac{\partial }{\partial X}f|_{L} d\bar{X}= f'(\alpha) d\bar{X}} $. This implies $\delta$ is an isomorphism (takes basis to basis). $\Rightarrow \Omega_{L/k}^{1} = 0$

\end{proof}


\chapter{Lecture-10 (8th February, 2023): }














\part{Topics in Analytic Number Theory}

\chapter{Lecture-1: Hardy-Littlewood proof of infinitely many zeros on the line $\mathfrak{R}(s) = 1/2$}

\chapter{Lecture-2: }

\chapter{Lecture-3 (10th January, 2023): Siegel's theorem }

\begin{theorem}[Siegel]
Let $\chi(q)$ be a real Dirichlet character modulo $q\geq 3$. Given any $\epsilon >0$, we have $$L(1, \chi) \geq \frac{C_{\epsilon}}{q^{\epsilon}}$$
\end{theorem}

A trivial lower bound: $L(1, \chi) \gg q^{-1/2}$

\begin{proof}[Goldfeld's proof]
Consider $$f(s) = \zeta(s)L(s,\chi_{1})L(s,\chi_{2})L(s,\chi_{1}\chi_{2})$$ with $\chi_{i}, i=1,2$ primitive quadratic characters. Notice that $f(s) = \sum_{n} b_{n}n^{-s}$ with $b_{1} =1 , b_{n} \geq 0$. Let $\lambda = \mathrm{Res}_{s=1}f(s) = L(1,\chi_{1})L(1,\chi_{2})L(1,\chi_{1}\chi_{2})$

\begin{lemma}
Given any $\epsilon >0$, one can find $\chi_{1}(q_{1})$ and $\beta$ with $1-\epsilon < \beta < 1$ such that $f(\beta) \le 0$, independent of what $\chi_{2}(q_{2})$ is. 
\end{lemma}

\begin{proof}
\textbf{Case-1:} If there are no real zeros of $L(s, \psi)$ for any primitive quadratic character in $(1-\epsilon,1)$, then $f(\beta) < 0$ for any $\beta \in (1 - \epsilon,1)$. This is because $$f(\beta) = \underbrace{\zeta(\beta)}_{<0} \underbrace{L(s,\chi_{1})L(s,\chi_{2})L(s,\chi_{1}\chi_{2})}_{>0}$$ as $L(1,\chi)>0$ and $L$ is continuous so any change of sign will lead to a zero which is a contradiction. \\
\textbf{Case-2:} If we cannot find such a $\psi$, then just set $\chi_{1}=\chi$ and let $\beta$ be the real zero. Then, $f(\beta)=0$. We are done. 
\end{proof}

Next, consider the integral 

\end{proof}

\begin{corollary}
\begin{align*}
h(-d) &= \frac{L(1,\chi_{d}) \sqrt{|d|} \;\omega}{2 \pi} \\
&= \frac{L(1,\chi_{d})}{\log \epsilon_{d}}
\end{align*}
\end{corollary}

\begin{theorem}[Y. Zhang]
$$L(1, \chi) \geq \frac{c}{(\log q)^{2022}}$$
\end{theorem}

\begin{theorem}
If $\chi(q)$ does not have a Siegel zero, then $L(1, \chi) \gg \frac{1}{\log q}$
\end{theorem}


\chapter{Lecture-4 (12th January, 2023): PNT for Dirichlet characters and APs}

\begin{lemma}
If $\rho = \beta + i \gamma$ runs through nontrivial zeros of $L(s, \chi)$, then $$\sum_{\rho} \frac{1}{1 + (T - \gamma)^2} = \mathcal{O} (\log q(|T| + 2)) \forall T \in \RR $$
\end{lemma}

\begin{lemma}
$$N(T+1, \chi) - N(T , \chi) = \mathcal{O} (\log q (|T| + 2))$$
\end{lemma}

\begin{lemma}
$$\sum_{\rho: |\gamma - t|\le 1} \frac{1}{s - \rho} + \mathcal{O}(\log qt) = \frac{L'}{L}(s,\chi)$$ for $-1 \le \sigma \le 2 , |t|\geq 2, L(s,\chi) \neq 0$
\end{lemma}

\begin{lemma}
Let $\chi(q)$ be primitive, $q \geq 3, T \geq 2$. Then, there exists $T_{1} \in [T,T+1]$ such that $\frac{L'}{L}(\sigma \pm iT_{1}, \chi) \ll (\log qT)^2 , -1 \le \sigma \le 2$.
\end{lemma}

\begin{lemma}
Put $a=1$ if $\chi$ is even and $0$ otherwise. $$\mathcal{A}(a) := \{ s \in \CC \mid \sigma \le -1 , |s + 2n - a| \geq \frac{1}{4} \; \forall \; n \geq 1\}$$ Then, $$\frac{L'}{L} (s, \chi) \ll \log (q(|s|+1))$$ on $\mathcal{A}(a)$
\end{lemma}

These are all the ingredients needed to prove the the explicit formula for $\psi_{0}(x, \chi)$. 

\begin{theorem}
$$\psi(s,\chi) = \sum_{n \le x} \Lambda(n) \chi(n)$$ $$\psi_{0}(x,\chi)  = \frac{1}{2}(\psi(x^{+}, \chi) + \psi(x^{-}, \chi)) = - \sum_{\rho : |\gamma|\le t} \frac{x^{\rho}}{\rho} - \frac{1}{2} \log (x-1) - \frac{\chi(-1)}{2} \log (x+1) + C_{\chi} + R_{\chi}(T)$$ where $C_{\chi} = \frac{L'}{L} (1, \overline{\chi}) + \log \frac{q}{2 \pi} - \gamma$ and $R_{\chi}(T) \ll (\log x)\min(1, x/T <x>) + \frac{x}{T} (\log (qxT))^2$. Letting $T \rightarrow \infty$ we see that $R_{\chi}(T) \rightarrow 0$.
\end{theorem}

\begin{theorem}[Brun-Titsmarsh inequality]
Let $x\geq 0, y \geq 2q$. Then, $$\pi(x+y; q,a) - \pi (x; q,a) \le \frac{2y}{\phi(q) \log (\frac{y}{q})} \left( 1 + \mathcal{O}(\frac{1}{\log (\frac{y}{q})}) \right)$$
\end{theorem}

\textcolor{BrickRed}{Remind him to prove this later; uses Sieve theoretic methods}

\begin{theorem}[PNT for Dirichlet characters]
There exists a $c_{1} \geq 0$ such that for all $q \le \exp (c_{1} \sqrt{\log x})$, we have $$\psi(x, \chi) = \sum_{n \le x}\Lambda (n) \chi (n) = \begin{cases} E_{0}(x) + \mathcal{O} (x\exp(-c_{1}\sqrt{\log x})) & \chi \text{ has no Siegel zero} \\ -\frac{x^{\beta_{1}}}{\beta_{1}} + \mathcal{O} (x\exp(-c_{1}\sqrt{\log x})) & \chi \text{ has Siegel zero} \end{cases}$$ Here, $E_{0}(\chi) = 1$ if $\chi = \chi_{0}$ and $0$ otherwise. 
\end{theorem}

Recall from MA317 that $L(x,\chi) \neq 0$ when $\sigma \geq  1 - \frac{c}{\log q\tau}$ for some constant $c>0$ with the exception of atmost one real zero ($\beta_{1}$ the Siegel zero)

\begin{proposition}
Let $c$ be as above and assume that $\sigma \geq 1 - \frac{c}{2 \log q \tau}$. Then, 
\begin{enumerate}
\item If $L(s,\chi)$ has no Siegel zero or if $\beta_{1}$ is a Siegel zero (thus $\chi$ quadratic) but $|s- \beta_{1}| \geq \frac{1}{\log q}$, then $$\frac{L'}{L}(s, \chi) \ll \log q \tau$$ $$|\log L(s,\chi)| \ll \log \log q\tau + \mathcal{O}(1)$$ $$\frac{1}{L(s,\chi)} \ll \log q\tau$$
\item If $\beta_{1}$ is a Siegel zero and $|s - \beta_{1}| \le \frac{1}{\log q}$, then $$\frac{L'}{L}(s, \chi) = \frac{1}{s- \beta_{1}} + \mathcal{O}(\log q)$$ $$|\mathrm{arg} L(s,\chi)| \le \log \log q + \mathcal{O}(1)$$ $$|s- \beta_{1}| \ll |L(s,\chi)| \ll |s-\beta_{1}|(\log q)^2$$
\end{enumerate}
\end{proposition}


















\part{Commutative Algebra}

\chapter{Ideals}

\chapter{Modules}

\chapter{Projective, Injective modules}

\chapter{Noetherian Rings}

\chapter{Artinian Rings}

\chapter{Localisation}
Let $R$ be a commutative ring, $S$ a multiplicatively closed subset containing $1$.
\begin{theorem}
There exists a ring homomorphism $\theta : R \rightarrow S^{-1}R$ which has the following properties: 
\begin{enumerate}
\item $\theta(s) \in (S^{-1}R)^{\times} \; \forall \; s\in S$
\item Given any ring homomorphism $g: R \rightarrow A$ such that $g(s) \in A^{\times} \; \forall \; s \in S \; \exists \; ! \;$ ring homomorphism $\tilde{g}: S^{-1}R \rightarrow A$ such that $g = \tilde{g} \circ \theta$.
\[\begin{tikzcd}
	R &&&& {} \\
	{S^{-1}R} & A
	\arrow["\theta"', from=1-1, to=2-1]
	\arrow["g", from=1-1, to=2-2]
	\arrow["{\exists \;!\; \tilde{g}}"', dashed, from=2-1, to=2-2]
\end{tikzcd}\]
\end{enumerate}
\end{theorem}

\begin{proof}
\underline{Existence}: Define the relation on $R \times S$ given by $(a,s) \sim (a',s') $ if $t(as' - a's) =0$ for some $t \in S$. It can be checked that this is an equivalence relation. Define  
\end{proof}


\chapter{Integral dependence}

\chapter{Completions}





\part{Algebraic Number Theory}

\chapter{Dedekind Domains}

\chapter{Splitting of primes}

\chapter{Finiteness of class number}

\chapter{Unit theorem}

\chapter{Cyclotomic Fields and Fermat's last theorem}

\chapter{Local Fields}

\chapter{Global Fields}

\chapter{Kronecker Weber}


\chapter{Ad\'{e}les and Id\'{e}les}




\part{Galois Theory}



\chapter{Finite Fields}


\chapter{Cyclotomic Fields}



\part{Representation theory}

\chapter{Introduction}

\chapter{Character theory}

\chapter{Wedderburn theorem}

\chapter{Induced characters}

\chapter{Brauer Induction theorem}



\part{Miscellaneous}

\chapter{Galois representations}

\chapter{Artin $L$-functions}

\chapter{Riemann hypothesis for curves over finite fields}




\end{document}